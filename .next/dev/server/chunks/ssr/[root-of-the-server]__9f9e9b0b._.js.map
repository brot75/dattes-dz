{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/dattes-dz/lib/store.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { persist, createJSONStorage } from 'zustand/middleware';\r\n\r\nexport type Language = 'fr' | 'ar' | 'en';\r\n\r\nexport interface CartItem {\r\n    id: string;\r\n    productId: string;\r\n    name: string;\r\n    quality: string;\r\n    type: string;\r\n    quantityKg: number;\r\n    pricePerKg: number;\r\n    image: string;\r\n    unit?: string; // kg, liter, piece, box\r\n    packaging?: string; // arjoun, messier, standard\r\n}\r\n\r\nexport interface InventoryItem {\r\n    id: string;\r\n    type: string;\r\n    quality: string;\r\n    pricePerKg: number;\r\n    purchasePrice?: number; // For Profit Calculation\r\n    stockKg: number;\r\n    unit?: string; // Default 'kg'\r\n    packaging?: string; // Default 'standard'\r\n    images: string[];\r\n    description: string;\r\n    origin?: string;\r\n    longDescription?: string;\r\n\r\n    // Arabic Translations\r\n    typeAr?: string;\r\n    qualityAr?: string;\r\n    originAr?: string;\r\n    descriptionAr?: string;\r\n    longDescriptionAr?: string;\r\n\r\n    // English\r\n    nameEn?: string;\r\n    typeEn?: string;\r\n    qualityEn?: string;\r\n    originEn?: string;\r\n    descriptionEn?: string;\r\n    longDescriptionEn?: string;\r\n\r\n    nutritionalInfo?: {\r\n        calories: number;\r\n        carbs: number;\r\n        protein: number;\r\n        fiber: number;\r\n    };\r\n}\r\n\r\nexport interface Order {\r\n    id: string;\r\n    userId?: string;\r\n    customer: {\r\n        name: string;\r\n        phone: string;\r\n        wilaya: string;\r\n        commune: string;\r\n        address?: string;\r\n    };\r\n    items: CartItem[];\r\n    total: number;\r\n    status: 'pending' | 'shipped' | 'completed' | 'cancelled' | 'returned';\r\n    date: string;\r\n    returnReason?: string;\r\n    source?: string; // 'instagram', 'facebook', 'tiktok', 'direct', etc.\r\n}\r\n\r\nexport interface SiteSettings {\r\n    heroImage: string;\r\n    heroImageDesktop?: string;\r\n    deliveryFees: Record<string, { home: number, bureau: number }>; // Wilaya name -> Price\r\n}\r\n\r\nexport interface User {\r\n    id: string;\r\n    email: string;\r\n    password?: string;\r\n    role: 'admin' | 'customer';\r\n    name: string;\r\n    phone?: string;\r\n    wilaya?: string;\r\n    commune?: string;\r\n}\r\n\r\nexport const WILAYAS = [\r\n    \"Adrar\", \"Chlef\", \"Laghouat\", \"Oum El Bouaghi\", \"Batna\", \"Béjaïa\", \"Biskra\", \"Bechar\", \"Blida\", \"Bouira\",\r\n    \"Tamanrasset\", \"Tbessa\", \"Tlemcen\", \"Tiaret\", \"Tizi Ouzou\", \"Alger\", \"Djelfa\", \"Jijel\", \"Se9tif\", \"Saefda\",\r\n    \"Skikda\", \"Sidi Bel Abbes\", \"Annaba\", \"Guelma\", \"Constantine\", \"Medea\", \"Mostaganem\", \"M'Sila\", \"Mascara\",\r\n    \"Ouargla\", \"Oran\", \"El Bayadh\", \"Illizi\", \"Bordj Bou Arreridj\", \"Boumerdes\", \"El Tarf\", \"Tindouf\", \"Tissemsilt\",\r\n    \"El Oued\", \"Khenchela\", \"Souk Ahras\", \"Tipaza\", \"Mila\", \"Ain Defla\", \"Naama\", \"Ain Temouchent\", \"Ghardaefa\",\r\n    \"Relizane\", \"El M'ghair\", \"El Menia\", \"Ouled Djellal\", \"Bordj Baji Mokhtar\", \"Béni Abbès\", \"Timimoun\",\r\n    \"Touggourt\", \"Djanet\", \"In Salah\", \"In Guezzam\", \"Aflou\", \"El Abiodh Sidi Cheikh\", \"El Aricha\", \"El Kantara\",\r\n    \"Barika\", \"Bou Saada\", \"Bir El Ater\", \"Ksar El Boukhari\", \"Ksar Chellala\", \"Ain Oussara\", \"Messaad\"\r\n];\r\n\r\nconst DEFAULT_DELIVERY_FEES: Record<string, { home: number, bureau: number }> = WILAYAS.reduce((acc, w) => {\r\n    const northWilayas = ['Alger', 'Blida', 'Boumerdès', 'Tipaza', 'Oran', 'Constantine', 'Annaba', 'Sétif'];\r\n    const southWilayas = ['Adrar', 'Tamanrasset', 'Illizi', 'Tindouf', 'Béchar', 'Ouargla', 'Ghardaïa'];\r\n\r\n    if (northWilayas.includes(w)) {\r\n        acc[w] = { home: 600, bureau: 350 };\r\n    } else if (southWilayas.includes(w)) {\r\n        acc[w] = { home: 1000, bureau: 600 };\r\n    } else {\r\n        acc[w] = { home: 800, bureau: 500 };\r\n    }\r\n    return acc;\r\n}, {} as Record<string, { home: number, bureau: number }>);\r\n\r\n// Hardcoded users removed for security.\r\n// Use the registration form to create users.\r\nconst INITIAL_USERS: User[] = [];\r\n\r\ninterface StoreState {\r\n    language: Language;\r\n    setLanguage: (lang: Language) => void;\r\n    _hasHydrated: boolean;\r\n    setHasHydrated: (state: boolean) => void;\r\n\r\n    settings: SiteSettings;\r\n    updateSettings: (settings: Partial<SiteSettings>) => void;\r\n\r\n    currentUser: User | null;\r\n    users: User[];\r\n    login: (email: string, password: string) => boolean;\r\n    logout: () => void;\r\n    register: (user: User) => boolean;\r\n\r\n    cart: CartItem[];\r\n    addToCart: (item: CartItem) => void;\r\n    removeFromCart: (id: string) => void;\r\n    updateQuantity: (id: string, quantityKg: number) => void;\r\n    clearCart: () => void;\r\n    cartTotal: () => number;\r\n    calculateTotal: () => number;\r\n\r\n    inventory: InventoryItem[];\r\n    updateInventory: (items: InventoryItem[]) => void;\r\n    fetchInventory: () => Promise<void>; // New Sync Method\r\n\r\n    orders: Order[];\r\n    addOrder: (order: Order) => void;\r\n    updateOrderStatus: (id: string, status: Order['status']) => void;\r\n    updateOrderReturn: (id: string, reason: string) => void;\r\n    fetchOrders: () => Promise<void>; // New Sync Method\r\n\r\n    updateUser: (userData: Partial<User>) => void;\r\n\r\n    // Analytics Data\r\n    totalVisits: number;\r\n    incrementVisits: () => void;\r\n    analyticsData: {\r\n        traffic: { name: string; value: number }[];\r\n        conversion: { name: string; value: number }[];\r\n    };\r\n    updateAnalyticsData: (data: Partial<StoreState['analyticsData']>) => void;\r\n\r\n    referralSource: string;\r\n    setReferralSource: (source: string) => void;\r\n\r\n    // Updated to accept mode\r\n    getDeliveryFee: (wilaya: string, mode: 'home' | 'bureau') => number;\r\n}\r\n\r\nconst calculateDeliveryFee = (wilaya: string, mode: 'home' | 'bureau'): number => {\r\n    if (!wilaya) return 0;\r\n    const northWilayas = ['Alger', 'Blida', 'Boumerdès', 'Tipaza', 'Oran', 'Constantine', 'Annaba', 'Sétif'];\r\n    const southWilayas = ['Adrar', 'Tamanrasset', 'Illizi', 'Tindouf', 'Béchar', 'Ouargla', 'Ghardaïa'];\r\n\r\n    const isNorth = northWilayas.includes(wilaya);\r\n    const isSouth = southWilayas.includes(wilaya);\r\n\r\n    if (mode === 'home') {\r\n        if (isNorth) return 600;\r\n        if (isSouth) return 1000;\r\n        return 800;\r\n    } else {\r\n        // Bureau is cheaper\r\n        if (isNorth) return 350;\r\n        if (isSouth) return 600;\r\n        return 500;\r\n    }\r\n};\r\n\r\nconst INITIAL_INVENTORY_FINAL: InventoryItem[] = [\r\n    {\r\n        id: '1',\r\n        type: 'Deglet Nour',\r\n        quality: 'Premium',\r\n        pricePerKg: 1200,\r\n        stockKg: 500,\r\n        unit: 'kg',\r\n        packaging: 'standard',\r\n        images: ['/products/deglet-nour.png'],\r\n        description: 'Dattes Deglet Nour de qualité supérieure, transparentes et mielleuses.',\r\n        origin: 'Tolga',\r\n        longDescription: 'La Deglet Nour (\"Doigt de lumière\") est la reine des dattes. Cette sélection Premium provient des meilleures palmeraies de Tolga. Sa texture est moelleuse, sa couleur translucide laisse apparaître le noyau, et son goût de miel est incomparable.',\r\n        nutritionalInfo: { calories: 282, carbs: 75, protein: 2.5, fiber: 8 },\r\n        typeAr: 'دقلة نور',\r\n        qualityAr: 'ممتاز',\r\n        originAr: 'طولقة',\r\n        descriptionAr: 'تمور دقلة نور عالية الجودة، شفافة ومعسلة.',\r\n    },\r\n    {\r\n        id: '2',\r\n        type: 'Deglet Nour',\r\n        quality: 'Standard',\r\n        pricePerKg: 850,\r\n        stockKg: 1000,\r\n        images: ['/products/deglet-nour.png'],\r\n        description: 'Dattes Deglet Nour idéales pour la consommation quotidienne.',\r\n        origin: 'Biskra',\r\n        longDescription: 'Une Deglet Nour authentique, idéale pour le quotidien. Moins translucide que la Premium mais tout aussi savoureuse, elle offre un excellent rapport qualité-prix.',\r\n        nutritionalInfo: { calories: 280, carbs: 74, protein: 2.4, fiber: 7.5 },\r\n        typeAr: 'دقلة نور',\r\n        qualityAr: 'عادي',\r\n        originAr: 'بسكرة',\r\n        descriptionAr: 'تمور دقلة نور مثالية للاستهلاك اليومي.',\r\n    },\r\n    {\r\n        id: '3',\r\n        type: 'Ghars',\r\n        quality: 'Premium',\r\n        pricePerKg: 450,\r\n        stockKg: 300,\r\n        images: ['/products/ghars.png'],\r\n        description: 'Dattes écrasées (Ghars/Btana), parfaites pour la pâtisserie (Makroud, Bradj).',\r\n        origin: 'Oued Souf',\r\n        longDescription: 'Le Ghars est une datte moelleuse écrasée, formant une pâte naturelle riche et sucrée. Indispensable pour la préparation des gâteaux traditionnels algériens comme le Makroud et le Bradj.',\r\n\r\n        typeAr: 'غرس (بطانة)',\r\n        qualityAr: 'ممتاز',\r\n        originAr: 'الوادي',\r\n        descriptionAr: 'تمر مهروس (غرس/بطانة)، مثالي للحلويات (المقروط، البراج).',\r\n\r\n        nutritionalInfo: { calories: 300, carbs: 80, protein: 2.2, fiber: 9 }\r\n    },\r\n    {\r\n        id: '4',\r\n        type: 'Deglet Beida',\r\n        quality: 'Standard',\r\n        pricePerKg: 600,\r\n        stockKg: 200,\r\n        images: ['/products/deglet-nour.png'],\r\n        description: 'Dattes sèches et croquantes, riches en fibres.',\r\n        origin: 'Tolga',\r\n        longDescription: 'La Deglet Beida est une datte sèche, très appréciée pour sa texture croquante et sa longue conservation.',\r\n        typeAr: 'دقلة بيضاء',\r\n        qualityAr: 'عادي',\r\n        originAr: 'طولقة',\r\n        descriptionAr: 'تمور دقلة بيضاء جافة ومقرمشة، غنية بالألياف.',\r\n\r\n        nutritionalInfo: { calories: 280, carbs: 75, protein: 2.5, fiber: 8 }\r\n    },\r\n    {\r\n        id: '5',\r\n        type: 'Roub',\r\n        quality: 'Premium',\r\n        pricePerKg: 300,\r\n        stockKg: 100,\r\n        images: ['/products/deglet-nour.png'], // Placeholder fixed from roub.png\r\n        description: 'Dattes fraîches (Roub), très sucrées et fondantes.',\r\n        origin: 'Tolga',\r\n        longDescription: 'Le Roub est une datte fraîche, cueillie à mi-maturité. Elle est incroyablement fondante et sucrée, un véritable délice saisonnier.',\r\n        typeAr: 'رطب',\r\n        qualityAr: 'ممتاز',\r\n        originAr: 'طولقة',\r\n        descriptionAr: 'تمور رطب طازجة، حلوة جداً وتذوب في الفم.',\r\n        unit: 'kg',\r\n        packaging: 'standard',\r\n        nutritionalInfo: { calories: 260, carbs: 65, protein: 1.8, fiber: 6 }\r\n    }\r\n];\r\n\r\nexport const useStore = create<StoreState>()(\r\n    persist(\r\n        (set, get) => ({\r\n            _hasHydrated: false,\r\n            setHasHydrated: (state) => set({ _hasHydrated: state }),\r\n\r\n            language: 'fr',\r\n            setLanguage: (lang) => set({ language: lang }),\r\n\r\n            settings: {\r\n                heroImage: '/hero-dates-v2.png',\r\n                heroImageDesktop: '/hero-dates-desktop.jpg',\r\n                deliveryFees: DEFAULT_DELIVERY_FEES\r\n            },\r\n            updateSettings: (newSettings) => set((state) => ({ settings: { ...state.settings, ...newSettings } })),\r\n\r\n            currentUser: null,\r\n            users: INITIAL_USERS,\r\n            login: (email, password) => {\r\n                // 1. Check Registered Users\r\n                const users = get().users;\r\n\r\n                // Find user in registered list\r\n                const user = users.find(u => u.email === email && u.password === password);\r\n\r\n                if (user) {\r\n                    set({ currentUser: user });\r\n                    return true;\r\n                }\r\n\r\n                return false;\r\n            },\r\n\r\n\r\n            logout: () => set({ currentUser: null }),\r\n            register: (newUser) => {\r\n                const exists = get().users.some(u => u.email === newUser.email);\r\n                if (exists) return false;\r\n                set(state => ({\r\n                    users: [...state.users, { ...newUser, id: crypto.randomUUID(), role: 'customer' }]\r\n                }));\r\n                return true;\r\n            },\r\n\r\n            cart: [],\r\n            addToCart: (item) => set((state) => {\r\n                const existing = state.cart.find(\r\n                    (i) => i.productId === item.productId && i.quality === item.quality && i.unit === item.unit && i.packaging === item.packaging\r\n                );\r\n                if (existing) {\r\n                    return {\r\n                        cart: state.cart.map((i) =>\r\n                            i.id === existing.id ? { ...i, quantityKg: i.quantityKg + item.quantityKg } : i\r\n                        ),\r\n                    };\r\n                }\r\n                return { cart: [...state.cart, item] };\r\n            }),\r\n            removeFromCart: (id) =>\r\n                set((state) => ({ cart: state.cart.filter((i) => i.id !== id) })),\r\n            updateQuantity: (id, q) =>\r\n                set((state) => ({\r\n                    cart: state.cart.map((i) => (i.id === id ? { ...i, quantityKg: q } : i)),\r\n                })),\r\n            clearCart: () => set({ cart: [] }),\r\n            cartTotal: () => {\r\n                const state = get();\r\n                return state.cart.reduce((acc, item) => acc + (item.pricePerKg * item.quantityKg), 0);\r\n            },\r\n            calculateTotal: () => {\r\n                const total = get().cartTotal();\r\n                // Default to 'home' for total calculation if mode isn't specified in state yet\r\n                // Ideally we should add 'deliveryMode' to the store state, but for now this fixes the build\r\n                const delivery = calculateDeliveryFee(get().currentUser?.wilaya || '', 'home');\r\n                return total + delivery;\r\n            },\r\n\r\n            // --- INVENTORY WITH API SYNC ---\r\n            inventory: INITIAL_INVENTORY_FINAL,\r\n            fetchInventory: async () => {\r\n                try {\r\n                    const res = await fetch('/api/products');\r\n                    if (res.ok) {\r\n                        const data = await res.json();\r\n                        set({ inventory: data });\r\n                    }\r\n                } catch (e) {\r\n                    console.error('Failed to fetch inventory:', e);\r\n                }\r\n            },\r\n            updateInventory: (items) => {\r\n                set({ inventory: items });\r\n                // Sync to API\r\n                fetch('/api/products', {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify(items)\r\n                }).catch(err => console.error('Sync failed', err));\r\n            },\r\n\r\n            // --- ORDERS WITH API SYNC ---\r\n            orders: [],\r\n            fetchOrders: async () => {\r\n                try {\r\n                    const res = await fetch('/api/orders');\r\n                    if (res.ok) {\r\n                        const data = await res.json();\r\n                        set({ orders: data });\r\n                    }\r\n                } catch (e) {\r\n                    console.error('Failed to fetch orders:', e);\r\n                }\r\n            },\r\n            addOrder: (order) => {\r\n                const newOrders = [order, ...get().orders];\r\n                set({ orders: newOrders });\r\n\r\n                // 1. Sync Orders\r\n                fetch('/api/orders', {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify(newOrders)\r\n                });\r\n\r\n                // 2. Sync Stock Deduction\r\n                const currentInventory = [...get().inventory];\r\n                order.items.forEach(cartItem => {\r\n                    const productIndex = currentInventory.findIndex(p => p.id === cartItem.productId);\r\n                    if (productIndex !== -1) {\r\n                        currentInventory[productIndex] = {\r\n                            ...currentInventory[productIndex],\r\n                            stockKg: Math.max(0, currentInventory[productIndex].stockKg - cartItem.quantityKg)\r\n                        };\r\n                    }\r\n                });\r\n                get().updateInventory(currentInventory);\r\n            },\r\n            updateOrderStatus: (id, status) => set((state) => ({\r\n                orders: state.orders.map((o) => (o.id === id ? { ...o, status } : o))\r\n            })),\r\n            updateOrderReturn: (id, reason) => set((state) => ({\r\n                orders: state.orders.map(o => o.id === id ? { ...o, status: 'returned', returnReason: reason } : o)\r\n            })),\r\n\r\n            updateUser: (userData) => set((state) => ({\r\n                currentUser: state.currentUser ? { ...state.currentUser, ...userData } : null,\r\n                users: state.users.map(u => u.id === state.currentUser?.id ? { ...u, ...userData } : u)\r\n            })),\r\n\r\n            // Analytics\r\n            totalVisits: 0,\r\n            incrementVisits: () => set((state) => ({ totalVisits: state.totalVisits + 1 })),\r\n            analyticsData: {\r\n                traffic: [\r\n                    { name: 'Lun', value: 400 },\r\n                    { name: 'Mar', value: 300 },\r\n                    { name: 'Mer', value: 550 },\r\n                    { name: 'Jeu', value: 450 },\r\n                    { name: 'Ven', value: 600 },\r\n                    { name: 'Sam', value: 700 },\r\n                    { name: 'Dim', value: 500 },\r\n                ],\r\n                conversion: [\r\n                    { name: 'Lun', value: 24 },\r\n                    { name: 'Mar', value: 18 },\r\n                    { name: 'Mer', value: 35 },\r\n                    { name: 'Jeu', value: 28 },\r\n                    { name: 'Ven', value: 42 },\r\n                    { name: 'Sam', value: 48 },\r\n                    { name: 'Dim', value: 38 },\r\n                ],\r\n            },\r\n            updateAnalyticsData: (data) => set((state) => ({\r\n                analyticsData: { ...state.analyticsData, ...data }\r\n            })),\r\n\r\n            referralSource: '',\r\n            setReferralSource: (source) => set({ referralSource: source }),\r\n\r\n            getDeliveryFee: (wilaya, mode) => {\r\n                const fees = get().settings.deliveryFees;\r\n                if (fees[wilaya]) {\r\n                    return fees[wilaya][mode];\r\n                }\r\n                return calculateDeliveryFee(wilaya, mode);\r\n            }\r\n        }),\r\n        {\r\n            name: 'dattes-storage-v5',\r\n            storage: createJSONStorage(() => localStorage),\r\n            version: 5,\r\n            migrate: (persistedState: any, version) => {\r\n                if (version < 5) {\r\n                    // Smart Merge: Update text/translations from code, but KEEP user's stock/prices/images\r\n                    const oldInventory = persistedState.inventory || [];\r\n                    const mergedInventory = INITIAL_INVENTORY_FINAL.map(initialItem => {\r\n                        const existingItem = oldInventory.find((i: any) => i.id === initialItem.id);\r\n\r\n                        if (existingItem) {\r\n                            // Merge logic:\r\n                            // 1. Keep user-mutable fields from storage (Stock, Price, Images)\r\n                            // 2. Force-update static text fields from code (Descriptions, Translations)\r\n                            return {\r\n                                ...initialItem, // Start with fresh code data (fixes typos/translations)\r\n                                stockKg: existingItem.stockKg, // Restore user stock\r\n                                pricePerKg: existingItem.pricePerKg, // Restore user price\r\n                                images: existingItem.images, // Restore user images\r\n                            };\r\n                        }\r\n                        return initialItem; // New item found in code? Add it.\r\n                    });\r\n\r\n                    return {\r\n                        ...persistedState,\r\n                        inventory: mergedInventory,\r\n                    };\r\n                }\r\n                return persistedState as StoreState;\r\n            },\r\n            partialize: (state) => ({\r\n                // Persist ONLY user-local settings.\r\n                // DATA (Inventory/Orders) must come from Server (JSON API).\r\n                language: state.language,\r\n                cart: state.cart,\r\n                settings: state.settings,\r\n                currentUser: state.currentUser,\r\n                users: state.users, // Persist users for login session\r\n                totalVisits: state.totalVisits,\r\n                analyticsData: state.analyticsData\r\n            }),\r\n            onRehydrateStorage: () => (state) => {\r\n                state?.setHasHydrated(true);\r\n            },\r\n        }\r\n    )\r\n);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 623, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/dattes-dz/app/admin/layout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { ReactNode, useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport {\r\n    LayoutDashboard,\r\n    BarChart3,\r\n    ShoppingBag,\r\n    Package,\r\n    Users,\r\n    LogOut,\r\n    Menu,\r\n    X,\r\n    ChevronRight,\r\n    Store\r\n} from 'lucide-react';\r\nimport { useStore } from '@/lib/store';\r\n\r\nconst SIDEBAR_ITEMS = [\r\n    { title: 'Tableau de bord', icon: LayoutDashboard, href: '/admin' },\r\n    { title: 'Analytiques', icon: BarChart3, href: '/admin/analytics' },\r\n    { title: 'Commandes', icon: ShoppingBag, href: '/admin/orders' },\r\n    { title: 'Produits', icon: Package, href: '/admin/products' },\r\n    { title: 'Utilisateurs', icon: Users, href: '/admin/users' },\r\n];\r\n\r\nexport default function AdminLayout({ children }: { children: ReactNode }) {\r\n    const pathname = usePathname();\r\n    const [isSidebarOpen, setIsSidebarOpen] = useState(true);\r\n    const { logout, currentUser, _hasHydrated } = useStore();\r\n\r\n    // Prevent hydration mismatch\r\n    if (!_hasHydrated) {\r\n        return <div className=\"min-h-screen flex items-center justify-center text-dattes-primary font-bold\">Chargement...</div>;\r\n    }\r\n\r\n    if (!currentUser || currentUser.role !== 'admin') {\r\n        return (\r\n            <div className=\"min-h-screen flex flex-col items-center justify-center bg-gray-50 text-center p-4\">\r\n                <h1 className=\"text-2xl font-bold text-dattes-primary mb-4\">Accès Refusé</h1>\r\n                <p className=\"text-gray-500 mb-6\">Vous devez être administrateur pour accéder à cette page.</p>\r\n                <Link href=\"/login\" className=\"bg-dattes-primary text-white px-6 py-2 rounded-xl font-bold hover:bg-dattes-accent transition-colors\">\r\n                    Se Connecter\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#FDFCFB] flex\">\r\n            {/* Sidebar */}\r\n            <aside\r\n                className={`\r\n                    ${isSidebarOpen ? 'w-64' : 'w-20'} \r\n                    bg-white border-r border-gray-100 \r\n                    transition-all duration-300 \r\n                    flex flex-col \r\n                    fixed lg:sticky top-0 h-screen z-50\r\n                `}\r\n            >\r\n                <div className=\"p-6 flex items-center justify-between\">\r\n                    <div className={`flex items-center gap-2 font-display font-bold text-dattes-primary transition-opacity ${isSidebarOpen ? 'opacity-100' : 'opacity-0 w-0 overflow-hidden'}`}>\r\n                        <Store className=\"w-6 h-6 text-dattes-accent\" />\r\n                        <span>Admin</span>\r\n                    </div>\r\n                    <button\r\n                        onClick={() => setIsSidebarOpen(!isSidebarOpen)}\r\n                        className=\"p-2 hover:bg-gray-50 rounded-lg transition-colors\"\r\n                    >\r\n                        {isSidebarOpen ? <X className=\"w-5 h-5 text-gray-400\" /> : <Menu className=\"w-5 h-5 text-gray-400\" />}\r\n                    </button>\r\n                </div>\r\n\r\n                <nav className=\"flex-1 px-4 py-4 space-y-1 overflow-y-auto\">\r\n                    {SIDEBAR_ITEMS.map((item) => {\r\n                        const isActive = pathname === item.href;\r\n                        return (\r\n                            <Link\r\n                                key={item.href}\r\n                                href={item.href}\r\n                                className={`\r\n                                    flex items-center gap-3 px-4 py-3 rounded-xl transition-all group\r\n                                    ${isActive\r\n                                        ? 'bg-dattes-primary text-white shadow-lg shadow-dattes-primary/20'\r\n                                        : 'text-gray-500 hover:bg-gray-50'\r\n                                    }\r\n                                `}\r\n                            >\r\n                                <item.icon className={`w-5 h-5 flex-shrink-0 transition-transform group-hover:scale-110 ${isActive ? 'text-white' : 'text-gray-400'}`} />\r\n                                {isSidebarOpen && (\r\n                                    <span className=\"font-bold text-sm tracking-wide whitespace-nowrap overflow-hidden text-ellipsis\">\r\n                                        {item.title}\r\n                                    </span>\r\n                                )}\r\n                                {isActive && isSidebarOpen && <ChevronRight className=\"w-4 h-4 ml-auto opacity-50 flex-shrink-0\" />}\r\n                            </Link>\r\n                        );\r\n                    })}\r\n                </nav>\r\n\r\n                <div className=\"p-4 mt-auto border-t border-gray-50 space-y-2 bg-white\">\r\n                    <button\r\n                        onClick={logout}\r\n                        className=\"flex items-center gap-3 w-full px-4 py-3 rounded-xl text-red-500 hover:bg-red-50 transition-all font-bold text-sm\"\r\n                    >\r\n                        <LogOut className=\"w-5 h-5 flex-shrink-0\" />\r\n                        {isSidebarOpen && <span>Déconnexion</span>}\r\n                    </button>\r\n\r\n                    {isSidebarOpen && currentUser && (\r\n                        <div className=\"p-3 bg-gray-50 rounded-xl flex items-center gap-3\">\r\n                            <div className=\"w-8 h-8 rounded-full bg-dattes-accent/20 flex items-center justify-center text-dattes-primary font-bold text-xs\">\r\n                                {currentUser.name?.[0] || 'A'}\r\n                            </div>\r\n                            <div className=\"flex-1 min-w-0\">\r\n                                <p className=\"text-xs font-bold text-gray-800 truncate\">{currentUser.name}</p>\r\n                                <p className=\"text-[10px] text-gray-400 truncate\">{currentUser.email}</p>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </aside>\r\n\r\n            {/* Main Content */}\r\n            <main className={`\r\n                flex-1 \r\n                transition-all duration-300\r\n                ${isSidebarOpen ? 'lg:ml-0' : 'lg:ml-0'} \r\n                ${isSidebarOpen ? 'ml-64' : 'ml-20'} \r\n                /* Mobile: Sidebar is fixed, so main needs padding. \r\n                   But wait, isSidebarOpen logic above toggles width. \r\n                   If fixed, main content stays under. \r\n                   We need to push main content on desktop, and maybe overlay on mobile? */\r\n                   lg:ml-0 /* Reset for flex behavior */\r\n            `}>\r\n                <div className=\"p-4 md:p-8 max-w-7xl mx-auto w-full\">\r\n                    {children}\r\n                </div>\r\n            </main>\r\n\r\n            {/* Mobile Overlay */}\r\n            {isSidebarOpen && (\r\n                <div\r\n                    className=\"fixed inset-0 bg-black/20 z-40 lg:hidden\"\r\n                    onClick={() => setIsSidebarOpen(false)}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}