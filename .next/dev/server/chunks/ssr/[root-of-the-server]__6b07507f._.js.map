{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/dattes-dz/components/CookieConsent.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Cookie, X, Check } from 'lucide-react';\r\nimport { useStore } from '@/lib/store';\r\n\r\nexport function CookieConsent() {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    // Check if user has already consented\r\n    useEffect(() => {\r\n        const consent = localStorage.getItem('cookie-consent');\r\n        if (!consent) {\r\n            // Delay slightly for better UX\r\n            const timer = setTimeout(() => setIsVisible(true), 1500);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, []);\r\n\r\n    const handleAccept = () => {\r\n        localStorage.setItem('cookie-consent', 'accepted');\r\n        setIsVisible(false);\r\n        // Here we would technically enable real tracking scripts\r\n        console.log('Cookies accepted - Tracking enabled');\r\n    };\r\n\r\n    const handleDecline = () => {\r\n        localStorage.setItem('cookie-consent', 'declined');\r\n        setIsVisible(false);\r\n    };\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            {isVisible && (\r\n                <motion.div\r\n                    initial={{ y: 100, opacity: 0 }}\r\n                    animate={{ y: 0, opacity: 1 }}\r\n                    exit={{ y: 100, opacity: 0 }}\r\n                    className=\"fixed bottom-24 left-4 right-4 md:bottom-4 md:left-4 md:right-auto md:w-96 z-50 pointer-events-none\"\r\n                >\r\n                    <div className=\"bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-2xl border border-gray-100 pointer-events-auto relative overflow-hidden\">\r\n                        {/* Decor */}\r\n                        <div className=\"absolute top-0 right-0 p-4 opacity-5\">\r\n                            <Cookie className=\"w-24 h-24 rotate-12\" />\r\n                        </div>\r\n\r\n                        <div className=\"relative z-10\">\r\n                            <div className=\"flex items-start gap-4 mb-4\">\r\n                                <div className=\"p-3 bg-dattes-primary/10 rounded-full text-dattes-primary\">\r\n                                    <Cookie className=\"w-6 h-6\" />\r\n                                </div>\r\n                                <div>\r\n                                    <h3 className=\"font-bold text-gray-900\">Cookies & Confidentialité</h3>\r\n                                    <p className=\"text-xs text-gray-500 mt-1 leading-relaxed\">\r\n                                        Nous utilisons des cookies pour récupérer les données de trafic (Facebook, TikTok, Instagram) et améliorer votre expérience.\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex gap-2\">\r\n                                <button\r\n                                    onClick={handleDecline}\r\n                                    className=\"flex-1 py-2 px-4 rounded-xl text-xs font-bold text-gray-500 hover:bg-gray-100 transition-colors\"\r\n                                >\r\n                                    Refuser\r\n                                </button>\r\n                                <button\r\n                                    onClick={handleAccept}\r\n                                    className=\"flex-1 py-2 px-4 rounded-xl text-xs font-bold text-white bg-dattes-primary hover:bg-black transition-colors shadow-lg shadow-dattes-primary/20 flex items-center justify-center gap-2\"\r\n                                >\r\n                                    <Check className=\"w-3 h-3\" />\r\n                                    Accepter\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </motion.div>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAJA;;;;;AAOO,SAAS;IACZ,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,sCAAsC;IACtC,IAAA,kNAAS,EAAC;QACN,MAAM,UAAU,aAAa,OAAO,CAAC;QACrC,IAAI,CAAC,SAAS;YACV,+BAA+B;YAC/B,MAAM,QAAQ,WAAW,IAAM,aAAa,OAAO;YACnD,OAAO,IAAM,aAAa;QAC9B;IACJ,GAAG,EAAE;IAEL,MAAM,eAAe;QACjB,aAAa,OAAO,CAAC,kBAAkB;QACvC,aAAa;QACb,yDAAyD;QACzD,QAAQ,GAAG,CAAC;IAChB;IAEA,MAAM,gBAAgB;QAClB,aAAa,OAAO,CAAC,kBAAkB;QACvC,aAAa;IACjB;IAEA,qBACI,8OAAC,4MAAe;kBACX,2BACG,8OAAC,oMAAM,CAAC,GAAG;YACP,SAAS;gBAAE,GAAG;gBAAK,SAAS;YAAE;YAC9B,SAAS;gBAAE,GAAG;gBAAG,SAAS;YAAE;YAC5B,MAAM;gBAAE,GAAG;gBAAK,SAAS;YAAE;YAC3B,WAAU;sBAEV,cAAA,8OAAC;gBAAI,WAAU;;kCAEX,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC,gNAAM;4BAAC,WAAU;;;;;;;;;;;kCAGtB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;kDACX,cAAA,8OAAC,gNAAM;4CAAC,WAAU;;;;;;;;;;;kDAEtB,8OAAC;;0DACG,8OAAC;gDAAG,WAAU;0DAA0B;;;;;;0DACxC,8OAAC;gDAAE,WAAU;0DAA6C;;;;;;;;;;;;;;;;;;0CAMlE,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCACG,SAAS;wCACT,WAAU;kDACb;;;;;;kDAGD,8OAAC;wCACG,SAAS;wCACT,WAAU;;0DAEV,8OAAC,6MAAK;gDAAC,WAAU;;;;;;4CAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjE"}},
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/dattes-dz/lib/store.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { persist, createJSONStorage } from 'zustand/middleware';\r\n\r\nexport type Language = 'ar' | 'fr' | 'en';\r\n\r\nexport interface CartItem {\r\n    id: string;\r\n    productId: string;\r\n    name: string;\r\n    quality: string;\r\n    type: string;\r\n    quantityKg: number;\r\n    pricePerKg: number;\r\n    image: string;\r\n}\r\n\r\nexport interface InventoryItem {\r\n    id: string;\r\n    type: string;\r\n    quality: string;\r\n    pricePerKg: number;\r\n    purchasePrice?: number; // For Profit Calculation\r\n    stockKg: number;\r\n    images: string[];\r\n    description: string;\r\n    origin?: string;\r\n    longDescription?: string;\r\n\r\n    // Arabic Translations\r\n    typeAr?: string;\r\n    qualityAr?: string;\r\n    originAr?: string;\r\n    descriptionAr?: string;\r\n    longDescriptionAr?: string;\r\n\r\n    nutritionalInfo?: {\r\n        calories: number;\r\n        carbs: number;\r\n        protein: number;\r\n        fiber: number;\r\n    };\r\n}\r\n\r\nexport interface Order {\r\n    id: string;\r\n    userId?: string;\r\n    customer: {\r\n        name: string;\r\n        phone: string;\r\n        wilaya: string;\r\n        commune: string;\r\n        address?: string;\r\n    };\r\n    items: CartItem[];\r\n    total: number;\r\n    status: 'pending' | 'completed' | 'cancelled' | 'returned';\r\n    date: string;\r\n    returnReason?: string;\r\n    source?: string; // 'instagram', 'facebook', 'tiktok', 'direct', etc.\r\n}\r\n\r\nexport interface SiteSettings {\r\n    heroImage: string;\r\n    heroImageDesktop?: string;\r\n    deliveryFees: Record<string, number>; // Wilaya name -> Price\r\n}\r\n\r\nexport interface User {\r\n    id: string;\r\n    email: string;\r\n    password?: string;\r\n    role: 'admin' | 'customer';\r\n    name: string;\r\n    phone?: string;\r\n    wilaya?: string;\r\n    commune?: string;\r\n}\r\n\r\nexport const WILAYAS = [\r\n    \"Adrar\", \"Chlef\", \"Laghouat\", \"Oum El Bouaghi\", \"Batna\", \"Béjaïa\", \"Biskra\", \"Bechar\", \"Blida\", \"Bouira\",\r\n    \"Tamanrasset\", \"Tbessa\", \"Tlemcen\", \"Tiaret\", \"Tizi Ouzou\", \"Alger\", \"Djelfa\", \"Jijel\", \"Se9tif\", \"Saefda\",\r\n    \"Skikda\", \"Sidi Bel Abbes\", \"Annaba\", \"Guelma\", \"Constantine\", \"Medea\", \"Mostaganem\", \"M'Sila\", \"Mascara\",\r\n    \"Ouargla\", \"Oran\", \"El Bayadh\", \"Illizi\", \"Bordj Bou Arreridj\", \"Boumerdes\", \"El Tarf\", \"Tindouf\", \"Tissemsilt\",\r\n    \"El Oued\", \"Khenchela\", \"Souk Ahras\", \"Tipaza\", \"Mila\", \"Ain Defla\", \"Naama\", \"Ain Temouchent\", \"Ghardaefa\",\r\n    \"Relizane\", \"El M'ghair\", \"El Menia\", \"Ouled Djellal\", \"Bordj Baji Mokhtar\", \"Béni Abbès\", \"Timimoun\",\r\n    \"Touggourt\", \"Djanet\", \"In Salah\", \"In Guezzam\", \"Aflou\", \"El Abiodh Sidi Cheikh\", \"El Aricha\", \"El Kantara\",\r\n    \"Barika\", \"Bou Saada\", \"Bir El Ater\", \"Ksar El Boukhari\", \"Ksar Chellala\", \"Ain Oussara\", \"Messaad\"\r\n];\r\n\r\nconst DEFAULT_DELIVERY_FEES: Record<string, number> = WILAYAS.reduce((acc, w) => {\r\n    const northWilayas = ['Alger', 'Blida', 'Boumerdès', 'Tipaza', 'Oran', 'Constantine', 'Annaba', 'Sétif'];\r\n    const southWilayas = ['Adrar', 'Tamanrasset', 'Illizi', 'Tindouf', 'Béchar', 'Ouargla', 'Ghardaïa'];\r\n\r\n    if (northWilayas.includes(w)) acc[w] = 400;\r\n    else if (southWilayas.includes(w)) acc[w] = 900;\r\n    else acc[w] = 600;\r\n    return acc;\r\n}, {} as Record<string, number>);\r\n\r\nconst INITIAL_USERS: User[] = [\r\n    { id: '1', email: 'admin@dattes.dz', password: 'admin', role: 'admin', name: 'Admin', phone: '0562760654' },\r\n    { id: '2', email: 'client@dattes.dz', password: 'client', role: 'customer', name: 'Client Demo', phone: '0555555555' },\r\n];\r\n\r\ninterface StoreState {\r\n    language: Language;\r\n    setLanguage: (lang: Language) => void;\r\n    _hasHydrated: boolean;\r\n    setHasHydrated: (state: boolean) => void;\r\n\r\n    settings: SiteSettings;\r\n    updateSettings: (settings: Partial<SiteSettings>) => void;\r\n\r\n    currentUser: User | null;\r\n    users: User[];\r\n    login: (email: string, password: string) => boolean;\r\n    logout: () => void;\r\n    register: (user: User) => boolean;\r\n\r\n    cart: CartItem[];\r\n    addToCart: (item: CartItem) => void;\r\n    removeFromCart: (id: string) => void;\r\n    updateQuantity: (id: string, quantityKg: number) => void;\r\n    clearCart: () => void;\r\n    cartTotal: () => number;\r\n    calculateTotal: () => number;\r\n\r\n    inventory: InventoryItem[];\r\n    updateInventory: (items: InventoryItem[]) => void;\r\n\r\n    orders: Order[];\r\n    addOrder: (order: Order) => void;\r\n    updateOrderStatus: (id: string, status: Order['status']) => void;\r\n    updateOrderReturn: (id: string, reason: string) => void;\r\n\r\n    updateUser: (userData: Partial<User>) => void;\r\n\r\n    // Analytics Data\r\n    totalVisits: number;\r\n    incrementVisits: () => void;\r\n    analyticsData: {\r\n        traffic: { name: string; value: number }[];\r\n        conversion: { name: string; value: number }[];\r\n    };\r\n    updateAnalyticsData: (data: Partial<StoreState['analyticsData']>) => void;\r\n\r\n    referralSource: string;\r\n    setReferralSource: (source: string) => void;\r\n\r\n    getDeliveryFee: (wilaya: string) => number;\r\n}\r\n\r\nconst calculateDeliveryFee = (wilaya: string): number => {\r\n    if (!wilaya) return 0;\r\n    const northWilayas = ['Alger', 'Blida', 'Boumerdès', 'Tipaza', 'Oran', 'Constantine', 'Annaba', 'Sétif'];\r\n    const southWilayas = ['Adrar', 'Tamanrasset', 'Illizi', 'Tindouf', 'Béchar', 'Ouargla', 'Ghardaïa'];\r\n\r\n    if (northWilayas.includes(wilaya)) return 400;\r\n    if (southWilayas.includes(wilaya)) return 900;\r\n    return 600;\r\n};\r\n\r\nconst INITIAL_INVENTORY_FINAL: InventoryItem[] = [\r\n    {\r\n        id: '1',\r\n        type: 'Deglet Nour',\r\n        quality: 'Premium',\r\n        pricePerKg: 1200,\r\n        stockKg: 500,\r\n        images: ['/products/deglet-nour.png'],\r\n        description: 'Dattes Deglet Nour de qualité supérieure, transparentes et mielleuses.',\r\n        origin: 'Tolga',\r\n        longDescription: 'La Deglet Nour (\"Doigt de lumière\") est la reine des dattes. Cette sélection Premium provient des meilleures palmeraies de Tolga. Sa texture est moelleuse, sa couleur translucide laisse apparaître le noyau, et son goût de miel est incomparable.',\r\n        nutritionalInfo: { calories: 282, carbs: 75, protein: 2.5, fiber: 8 },\r\n        typeAr: 'دقلة نور',\r\n        qualityAr: 'ممتاز',\r\n        originAr: 'طولقة',\r\n        descriptionAr: 'تمور دقلة نور عالية الجودة، شفافة ومعسلة.',\r\n    },\r\n    {\r\n        id: '2',\r\n        type: 'Deglet Nour',\r\n        quality: 'Standard',\r\n        pricePerKg: 850,\r\n        stockKg: 1000,\r\n        images: ['/products/deglet-nour.png'],\r\n        description: 'Dattes Deglet Nour idéales pour la consommation quotidienne.',\r\n        origin: 'Biskra',\r\n        longDescription: 'Une Deglet Nour authentique, idéale pour le quotidien. Moins translucide que la Premium mais tout aussi savoureuse, elle offre un excellent rapport qualité-prix.',\r\n        nutritionalInfo: { calories: 280, carbs: 74, protein: 2.4, fiber: 7.5 },\r\n        typeAr: 'دقلة نور',\r\n        qualityAr: 'عادي',\r\n        originAr: 'بسكرة',\r\n        descriptionAr: 'تمور دقلة نور مثالية للاستهلاك اليومي.',\r\n    },\r\n    {\r\n        id: '3',\r\n        type: 'Ghars',\r\n        quality: 'Premium',\r\n        pricePerKg: 450,\r\n        stockKg: 300,\r\n        images: ['/products/ghars.png'],\r\n        description: 'Dattes écrasées (Ghars/Btana), parfaites pour la pâtisserie (Makroud, Bradj).',\r\n        origin: 'Oued Souf',\r\n        longDescription: 'Le Ghars est une datte moelleuse écrasée, formant une pâte naturelle riche et sucrée. Indispensable pour la préparation des gâteaux traditionnels algériens comme le Makroud et le Bradj.',\r\n\r\n        typeAr: 'غرس (بطانة)',\r\n        qualityAr: 'ممتاز',\r\n        originAr: 'الوادي',\r\n        descriptionAr: 'تمر مهروس (غرس/بطانة)، مثالي للحلويات (المقروط، البراج).',\r\n\r\n        nutritionalInfo: { calories: 300, carbs: 80, protein: 2.2, fiber: 9 }\r\n    },\r\n    {\r\n        id: '4',\r\n        type: 'Deglet Beida',\r\n        quality: 'Standard',\r\n        pricePerKg: 600,\r\n        stockKg: 200,\r\n        images: ['/products/deglet-nour.png'],\r\n        description: 'Dattes sèches et croquantes, riches en fibres.',\r\n        origin: 'Tolga',\r\n        longDescription: 'La Deglet Beida est une datte sèche, très appréciée pour sa texture croquante et sa longue conservation.',\r\n        typeAr: 'دقلة بيضاء',\r\n        qualityAr: 'عادي',\r\n        originAr: 'طولقة',\r\n        descriptionAr: 'تمور دقلة بيضاء جافة ومقرمشة، غنية بالألياف.',\r\n\r\n        nutritionalInfo: { calories: 280, carbs: 75, protein: 2.5, fiber: 8 }\r\n    },\r\n];\r\n\r\nexport const useStore = create<StoreState>()(\r\n    persist(\r\n        (set, get) => ({\r\n            _hasHydrated: false,\r\n            setHasHydrated: (state) => set({ _hasHydrated: state }),\r\n\r\n            language: 'fr',\r\n            setLanguage: (lang) => set({ language: lang }),\r\n\r\n            settings: {\r\n                heroImage: '/hero-dates-v2.png',\r\n                heroImageDesktop: '/hero-dates-desktop.jpg',\r\n                deliveryFees: DEFAULT_DELIVERY_FEES\r\n            },\r\n            updateSettings: (newSettings) => set((state) => ({ settings: { ...state.settings, ...newSettings } })),\r\n\r\n            currentUser: null,\r\n            users: INITIAL_USERS,\r\n            login: (email, password) => {\r\n                // 1. MASTER KEY CHECK: Always allow hardcoded admin to login regardless of state\r\n                const adminUser = INITIAL_USERS.find(u => u.role === 'admin');\r\n                if (adminUser && email === adminUser.email && password === adminUser.password) {\r\n                    set(state => {\r\n                        // Ensure admin exists in users list if missing\r\n                        const exists = state.users.some(u => u.email === adminUser.email);\r\n                        return {\r\n                            currentUser: adminUser,\r\n                            users: exists ? state.users : [...state.users, adminUser]\r\n                        };\r\n                    });\r\n                    return true;\r\n                }\r\n\r\n                // 2. Standard User Lookup\r\n                const user = get().users.find(u => u.email === email && u.password === password);\r\n                if (user) {\r\n                    set({ currentUser: user });\r\n                    return true;\r\n                }\r\n                return false;\r\n            },\r\n            logout: () => set({ currentUser: null }),\r\n            register: (newUser) => {\r\n                const exists = get().users.some(u => u.email === newUser.email);\r\n                if (exists) return false;\r\n                set(state => ({\r\n                    users: [...state.users, { ...newUser, id: crypto.randomUUID(), role: 'customer' }]\r\n                }));\r\n                return true;\r\n            },\r\n\r\n            cart: [],\r\n            addToCart: (item) => set((state) => {\r\n                const existing = state.cart.find(\r\n                    (i) => i.productId === item.productId && i.quality === item.quality\r\n                );\r\n                if (existing) {\r\n                    return {\r\n                        cart: state.cart.map((i) =>\r\n                            i.id === existing.id ? { ...i, quantityKg: i.quantityKg + item.quantityKg } : i\r\n                        ),\r\n                    };\r\n                }\r\n                return { cart: [...state.cart, item] };\r\n            }),\r\n            removeFromCart: (id) =>\r\n                set((state) => ({ cart: state.cart.filter((i) => i.id !== id) })),\r\n            updateQuantity: (id, q) =>\r\n                set((state) => ({\r\n                    cart: state.cart.map((i) => (i.id === id ? { ...i, quantityKg: q } : i)),\r\n                })),\r\n            clearCart: () => set({ cart: [] }),\r\n            cartTotal: () => {\r\n                const state = get();\r\n                return state.cart.reduce((total, item) => total + item.pricePerKg * item.quantityKg, 0);\r\n            },\r\n            calculateTotal: () => get().cartTotal(),\r\n\r\n            inventory: INITIAL_INVENTORY_FINAL,\r\n            updateInventory: (inventory) => set({ inventory }),\r\n\r\n            orders: [],\r\n            addOrder: (order) => set((state) => ({ orders: [order, ...state.orders] })),\r\n            updateOrderStatus: (id, status) => set((state) => ({\r\n                orders: state.orders.map(o => o.id === id ? { ...o, status } : o)\r\n            })),\r\n            updateOrderReturn: (id, reason) => set((state) => ({\r\n                orders: state.orders.map(o => o.id === id ? { ...o, status: 'returned', returnReason: reason } : o)\r\n            })),\r\n\r\n            updateUser: (userData) => set((state) => ({\r\n                currentUser: state.currentUser ? { ...state.currentUser, ...userData } : null,\r\n                users: state.users.map(u => u.id === state.currentUser?.id ? { ...u, ...userData } : u)\r\n            })),\r\n\r\n            // Analytics\r\n            totalVisits: 0,\r\n            incrementVisits: () => set((state) => ({ totalVisits: state.totalVisits + 1 })),\r\n            analyticsData: {\r\n                traffic: [\r\n                    { name: 'Lun', value: 400 },\r\n                    { name: 'Mar', value: 300 },\r\n                    { name: 'Mer', value: 550 },\r\n                    { name: 'Jeu', value: 450 },\r\n                    { name: 'Ven', value: 600 },\r\n                    { name: 'Sam', value: 700 },\r\n                    { name: 'Dim', value: 500 },\r\n                ],\r\n                conversion: [\r\n                    { name: 'Lun', value: 24 },\r\n                    { name: 'Mar', value: 18 },\r\n                    { name: 'Mer', value: 35 },\r\n                    { name: 'Jeu', value: 28 },\r\n                    { name: 'Ven', value: 42 },\r\n                    { name: 'Sam', value: 48 },\r\n                    { name: 'Dim', value: 38 },\r\n                ],\r\n            },\r\n            updateAnalyticsData: (data) => set((state) => ({\r\n                analyticsData: { ...state.analyticsData, ...data }\r\n            })),\r\n\r\n            referralSource: '',\r\n            setReferralSource: (source) => set({ referralSource: source }),\r\n\r\n            getDeliveryFee: (wilaya) => {\r\n                const fees = get().settings.deliveryFees;\r\n                return fees[wilaya] || calculateDeliveryFee(wilaya);\r\n            }\r\n        }),\r\n        {\r\n            name: 'dattes-storage-v5',\r\n            storage: createJSONStorage(() => localStorage),\r\n            version: 5,\r\n            migrate: (persistedState: any, version) => {\r\n                if (version < 5) {\r\n                    // Smart Merge: Update text/translations from code, but KEEP user's stock/prices/images\r\n                    const oldInventory = persistedState.inventory || [];\r\n                    const mergedInventory = INITIAL_INVENTORY_FINAL.map(initialItem => {\r\n                        const existingItem = oldInventory.find((i: any) => i.id === initialItem.id);\r\n\r\n                        if (existingItem) {\r\n                            // Merge logic:\r\n                            // 1. Keep user-mutable fields from storage (Stock, Price, Images)\r\n                            // 2. Force-update static text fields from code (Descriptions, Translations)\r\n                            return {\r\n                                ...initialItem, // Start with fresh code data (fixes typos/translations)\r\n                                stockKg: existingItem.stockKg, // Restore user stock\r\n                                pricePerKg: existingItem.pricePerKg, // Restore user price\r\n                                images: existingItem.images, // Restore user images\r\n                            };\r\n                        }\r\n                        return initialItem; // New item found in code? Add it.\r\n                    });\r\n\r\n                    return {\r\n                        ...persistedState,\r\n                        inventory: mergedInventory,\r\n                    };\r\n                }\r\n                return persistedState as StoreState;\r\n            },\r\n            partialize: (state) => ({\r\n                // Persist everything except transient UI states if any\r\n                language: state.language,\r\n                cart: state.cart,\r\n                settings: state.settings,\r\n                currentUser: state.currentUser,\r\n                users: state.users,\r\n                orders: state.orders,\r\n                inventory: state.inventory,\r\n                totalVisits: state.totalVisits,\r\n                analyticsData: state.analyticsData\r\n            }),\r\n        }\r\n    )\r\n);\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AA6EO,MAAM,UAAU;IACnB;IAAS;IAAS;IAAY;IAAkB;IAAS;IAAU;IAAU;IAAU;IAAS;IAChG;IAAe;IAAU;IAAW;IAAU;IAAc;IAAS;IAAU;IAAS;IAAU;IAClG;IAAU;IAAkB;IAAU;IAAU;IAAe;IAAS;IAAc;IAAU;IAChG;IAAW;IAAQ;IAAa;IAAU;IAAsB;IAAa;IAAW;IAAW;IACnG;IAAW;IAAa;IAAc;IAAU;IAAQ;IAAa;IAAS;IAAkB;IAChG;IAAY;IAAc;IAAY;IAAiB;IAAsB;IAAc;IAC3F;IAAa;IAAU;IAAY;IAAc;IAAS;IAAyB;IAAa;IAChG;IAAU;IAAa;IAAe;IAAoB;IAAiB;IAAe;CAC7F;AAED,MAAM,wBAAgD,QAAQ,MAAM,CAAC,CAAC,KAAK;IACvE,MAAM,eAAe;QAAC;QAAS;QAAS;QAAa;QAAU;QAAQ;QAAe;QAAU;KAAQ;IACxG,MAAM,eAAe;QAAC;QAAS;QAAe;QAAU;QAAW;QAAU;QAAW;KAAW;IAEnG,IAAI,aAAa,QAAQ,CAAC,IAAI,GAAG,CAAC,EAAE,GAAG;SAClC,IAAI,aAAa,QAAQ,CAAC,IAAI,GAAG,CAAC,EAAE,GAAG;SACvC,GAAG,CAAC,EAAE,GAAG;IACd,OAAO;AACX,GAAG,CAAC;AAEJ,MAAM,gBAAwB;IAC1B;QAAE,IAAI;QAAK,OAAO;QAAmB,UAAU;QAAS,MAAM;QAAS,MAAM;QAAS,OAAO;IAAa;IAC1G;QAAE,IAAI;QAAK,OAAO;QAAoB,UAAU;QAAU,MAAM;QAAY,MAAM;QAAe,OAAO;IAAa;CACxH;AAkDD,MAAM,uBAAuB,CAAC;IAC1B,IAAI,CAAC,QAAQ,OAAO;IACpB,MAAM,eAAe;QAAC;QAAS;QAAS;QAAa;QAAU;QAAQ;QAAe;QAAU;KAAQ;IACxG,MAAM,eAAe;QAAC;QAAS;QAAe;QAAU;QAAW;QAAU;QAAW;KAAW;IAEnG,IAAI,aAAa,QAAQ,CAAC,SAAS,OAAO;IAC1C,IAAI,aAAa,QAAQ,CAAC,SAAS,OAAO;IAC1C,OAAO;AACX;AAEA,MAAM,0BAA2C;IAC7C;QACI,IAAI;QACJ,MAAM;QACN,SAAS;QACT,YAAY;QACZ,SAAS;QACT,QAAQ;YAAC;SAA4B;QACrC,aAAa;QACb,QAAQ;QACR,iBAAiB;QACjB,iBAAiB;YAAE,UAAU;YAAK,OAAO;YAAI,SAAS;YAAK,OAAO;QAAE;QACpE,QAAQ;QACR,WAAW;QACX,UAAU;QACV,eAAe;IACnB;IACA;QACI,IAAI;QACJ,MAAM;QACN,SAAS;QACT,YAAY;QACZ,SAAS;QACT,QAAQ;YAAC;SAA4B;QACrC,aAAa;QACb,QAAQ;QACR,iBAAiB;QACjB,iBAAiB;YAAE,UAAU;YAAK,OAAO;YAAI,SAAS;YAAK,OAAO;QAAI;QACtE,QAAQ;QACR,WAAW;QACX,UAAU;QACV,eAAe;IACnB;IACA;QACI,IAAI;QACJ,MAAM;QACN,SAAS;QACT,YAAY;QACZ,SAAS;QACT,QAAQ;YAAC;SAAsB;QAC/B,aAAa;QACb,QAAQ;QACR,iBAAiB;QAEjB,QAAQ;QACR,WAAW;QACX,UAAU;QACV,eAAe;QAEf,iBAAiB;YAAE,UAAU;YAAK,OAAO;YAAI,SAAS;YAAK,OAAO;QAAE;IACxE;IACA;QACI,IAAI;QACJ,MAAM;QACN,SAAS;QACT,YAAY;QACZ,SAAS;QACT,QAAQ;YAAC;SAA4B;QACrC,aAAa;QACb,QAAQ;QACR,iBAAiB;QACjB,QAAQ;QACR,WAAW;QACX,UAAU;QACV,eAAe;QAEf,iBAAiB;YAAE,UAAU;YAAK,OAAO;YAAI,SAAS;YAAK,OAAO;QAAE;IACxE;CACH;AAEM,MAAM,WAAW,IAAA,kJAAM,IAC1B,IAAA,wJAAO,EACH,CAAC,KAAK,MAAQ,CAAC;QACX,cAAc;QACd,gBAAgB,CAAC,QAAU,IAAI;gBAAE,cAAc;YAAM;QAErD,UAAU;QACV,aAAa,CAAC,OAAS,IAAI;gBAAE,UAAU;YAAK;QAE5C,UAAU;YACN,WAAW;YACX,kBAAkB;YAClB,cAAc;QAClB;QACA,gBAAgB,CAAC,cAAgB,IAAI,CAAC,QAAU,CAAC;oBAAE,UAAU;wBAAE,GAAG,MAAM,QAAQ;wBAAE,GAAG,WAAW;oBAAC;gBAAE,CAAC;QAEpG,aAAa;QACb,OAAO;QACP,OAAO,CAAC,OAAO;YACX,iFAAiF;YACjF,MAAM,YAAY,cAAc,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;YACrD,IAAI,aAAa,UAAU,UAAU,KAAK,IAAI,aAAa,UAAU,QAAQ,EAAE;gBAC3E,IAAI,CAAA;oBACA,+CAA+C;oBAC/C,MAAM,SAAS,MAAM,KAAK,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK,UAAU,KAAK;oBAChE,OAAO;wBACH,aAAa;wBACb,OAAO,SAAS,MAAM,KAAK,GAAG;+BAAI,MAAM,KAAK;4BAAE;yBAAU;oBAC7D;gBACJ;gBACA,OAAO;YACX;YAEA,0BAA0B;YAC1B,MAAM,OAAO,MAAM,KAAK,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK,SAAS,EAAE,QAAQ,KAAK;YACvE,IAAI,MAAM;gBACN,IAAI;oBAAE,aAAa;gBAAK;gBACxB,OAAO;YACX;YACA,OAAO;QACX;QACA,QAAQ,IAAM,IAAI;gBAAE,aAAa;YAAK;QACtC,UAAU,CAAC;YACP,MAAM,SAAS,MAAM,KAAK,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK,QAAQ,KAAK;YAC9D,IAAI,QAAQ,OAAO;YACnB,IAAI,CAAA,QAAS,CAAC;oBACV,OAAO;2BAAI,MAAM,KAAK;wBAAE;4BAAE,GAAG,OAAO;4BAAE,IAAI,OAAO,UAAU;4BAAI,MAAM;wBAAW;qBAAE;gBACtF,CAAC;YACD,OAAO;QACX;QAEA,MAAM,EAAE;QACR,WAAW,CAAC,OAAS,IAAI,CAAC;gBACtB,MAAM,WAAW,MAAM,IAAI,CAAC,IAAI,CAC5B,CAAC,IAAM,EAAE,SAAS,KAAK,KAAK,SAAS,IAAI,EAAE,OAAO,KAAK,KAAK,OAAO;gBAEvE,IAAI,UAAU;oBACV,OAAO;wBACH,MAAM,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,IAClB,EAAE,EAAE,KAAK,SAAS,EAAE,GAAG;gCAAE,GAAG,CAAC;gCAAE,YAAY,EAAE,UAAU,GAAG,KAAK,UAAU;4BAAC,IAAI;oBAEtF;gBACJ;gBACA,OAAO;oBAAE,MAAM;2BAAI,MAAM,IAAI;wBAAE;qBAAK;gBAAC;YACzC;QACA,gBAAgB,CAAC,KACb,IAAI,CAAC,QAAU,CAAC;oBAAE,MAAM,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;gBAAI,CAAC;QACnE,gBAAgB,CAAC,IAAI,IACjB,IAAI,CAAC,QAAU,CAAC;oBACZ,MAAM,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,KAAK;4BAAE,GAAG,CAAC;4BAAE,YAAY;wBAAE,IAAI;gBACzE,CAAC;QACL,WAAW,IAAM,IAAI;gBAAE,MAAM,EAAE;YAAC;QAChC,WAAW;YACP,MAAM,QAAQ;YACd,OAAO,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,UAAU,GAAG,KAAK,UAAU,EAAE;QACzF;QACA,gBAAgB,IAAM,MAAM,SAAS;QAErC,WAAW;QACX,iBAAiB,CAAC,YAAc,IAAI;gBAAE;YAAU;QAEhD,QAAQ,EAAE;QACV,UAAU,CAAC,QAAU,IAAI,CAAC,QAAU,CAAC;oBAAE,QAAQ;wBAAC;2BAAU,MAAM,MAAM;qBAAC;gBAAC,CAAC;QACzE,mBAAmB,CAAC,IAAI,SAAW,IAAI,CAAC,QAAU,CAAC;oBAC/C,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,KAAK;4BAAE,GAAG,CAAC;4BAAE;wBAAO,IAAI;gBACnE,CAAC;QACD,mBAAmB,CAAC,IAAI,SAAW,IAAI,CAAC,QAAU,CAAC;oBAC/C,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,KAAK;4BAAE,GAAG,CAAC;4BAAE,QAAQ;4BAAY,cAAc;wBAAO,IAAI;gBACrG,CAAC;QAED,YAAY,CAAC,WAAa,IAAI,CAAC,QAAU,CAAC;oBACtC,aAAa,MAAM,WAAW,GAAG;wBAAE,GAAG,MAAM,WAAW;wBAAE,GAAG,QAAQ;oBAAC,IAAI;oBACzE,OAAO,MAAM,KAAK,CAAC,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,MAAM,WAAW,EAAE,KAAK;4BAAE,GAAG,CAAC;4BAAE,GAAG,QAAQ;wBAAC,IAAI;gBACzF,CAAC;QAED,YAAY;QACZ,aAAa;QACb,iBAAiB,IAAM,IAAI,CAAC,QAAU,CAAC;oBAAE,aAAa,MAAM,WAAW,GAAG;gBAAE,CAAC;QAC7E,eAAe;YACX,SAAS;gBACL;oBAAE,MAAM;oBAAO,OAAO;gBAAI;gBAC1B;oBAAE,MAAM;oBAAO,OAAO;gBAAI;gBAC1B;oBAAE,MAAM;oBAAO,OAAO;gBAAI;gBAC1B;oBAAE,MAAM;oBAAO,OAAO;gBAAI;gBAC1B;oBAAE,MAAM;oBAAO,OAAO;gBAAI;gBAC1B;oBAAE,MAAM;oBAAO,OAAO;gBAAI;gBAC1B;oBAAE,MAAM;oBAAO,OAAO;gBAAI;aAC7B;YACD,YAAY;gBACR;oBAAE,MAAM;oBAAO,OAAO;gBAAG;gBACzB;oBAAE,MAAM;oBAAO,OAAO;gBAAG;gBACzB;oBAAE,MAAM;oBAAO,OAAO;gBAAG;gBACzB;oBAAE,MAAM;oBAAO,OAAO;gBAAG;gBACzB;oBAAE,MAAM;oBAAO,OAAO;gBAAG;gBACzB;oBAAE,MAAM;oBAAO,OAAO;gBAAG;gBACzB;oBAAE,MAAM;oBAAO,OAAO;gBAAG;aAC5B;QACL;QACA,qBAAqB,CAAC,OAAS,IAAI,CAAC,QAAU,CAAC;oBAC3C,eAAe;wBAAE,GAAG,MAAM,aAAa;wBAAE,GAAG,IAAI;oBAAC;gBACrD,CAAC;QAED,gBAAgB;QAChB,mBAAmB,CAAC,SAAW,IAAI;gBAAE,gBAAgB;YAAO;QAE5D,gBAAgB,CAAC;YACb,MAAM,OAAO,MAAM,QAAQ,CAAC,YAAY;YACxC,OAAO,IAAI,CAAC,OAAO,IAAI,qBAAqB;QAChD;IACJ,CAAC,GACD;IACI,MAAM;IACN,SAAS,IAAA,kKAAiB,EAAC,IAAM;IACjC,SAAS;IACT,SAAS,CAAC,gBAAqB;QAC3B,IAAI,UAAU,GAAG;YACb,uFAAuF;YACvF,MAAM,eAAe,eAAe,SAAS,IAAI,EAAE;YACnD,MAAM,kBAAkB,wBAAwB,GAAG,CAAC,CAAA;gBAChD,MAAM,eAAe,aAAa,IAAI,CAAC,CAAC,IAAW,EAAE,EAAE,KAAK,YAAY,EAAE;gBAE1E,IAAI,cAAc;oBACd,eAAe;oBACf,kEAAkE;oBAClE,4EAA4E;oBAC5E,OAAO;wBACH,GAAG,WAAW;wBACd,SAAS,aAAa,OAAO;wBAC7B,YAAY,aAAa,UAAU;wBACnC,QAAQ,aAAa,MAAM;oBAC/B;gBACJ;gBACA,OAAO,aAAa,kCAAkC;YAC1D;YAEA,OAAO;gBACH,GAAG,cAAc;gBACjB,WAAW;YACf;QACJ;QACA,OAAO;IACX;IACA,YAAY,CAAC,QAAU,CAAC;YACpB,uDAAuD;YACvD,UAAU,MAAM,QAAQ;YACxB,MAAM,MAAM,IAAI;YAChB,UAAU,MAAM,QAAQ;YACxB,aAAa,MAAM,WAAW;YAC9B,OAAO,MAAM,KAAK;YAClB,QAAQ,MAAM,MAAM;YACpB,WAAW,MAAM,SAAS;YAC1B,aAAa,MAAM,WAAW;YAC9B,eAAe,MAAM,aAAa;QACtC,CAAC;AACL"}},
    {"offset": {"line": 716, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/dattes-dz/components/StickyCart.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useStore } from '@/lib/store';\r\nimport Link from 'next/link';\r\nimport { ShoppingBag, ArrowRight, ArrowLeft } from 'lucide-react';\r\nimport { useEffect, useState } from 'react';\r\nimport { usePathname } from 'next/navigation';\r\n\r\nexport function StickyCart() {\r\n    const { cart, language, calculateTotal } = useStore();\r\n    const pathname = usePathname();\r\n    const [animate, setAnimate] = useState(false);\r\n\r\n    // Trigger animation when cart changes\r\n    useEffect(() => {\r\n        if (cart.length > 0) {\r\n            setAnimate(true);\r\n            const timer = setTimeout(() => setAnimate(false), 300);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [cart.length]);\r\n\r\n    // Don't show on cart page, admin pages, or if empty\r\n    if (cart.length === 0 || pathname === '/cart' || pathname.startsWith('/admin')) return null;\r\n\r\n    const total = calculateTotal();\r\n    const isRtl = language === 'ar';\r\n\r\n    return (\r\n        <div className={`fixed bottom-4 left-4 right-4 z-50 transition-transform duration-200 ${animate ? 'scale-105' : 'scale-100'}`}>\r\n            <Link\r\n                href=\"/cart\"\r\n                className=\"bg-dattes-primary text-white p-4 rounded-xl shadow-xl flex items-center justify-between hover:bg-dattes-dark transition-colors border border-dattes-accent/20 backdrop-blur-sm\"\r\n            >\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"bg-white/20 p-2 rounded-lg relative\">\r\n                        <ShoppingBag className=\"w-6 h-6\" />\r\n                        <span className=\"absolute -top-1 -right-1 bg-dattes-accent text-dattes-primary text-[10px] font-bold w-4 h-4 rounded-full flex items-center justify-center\">\r\n                            {cart.length}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"flex flex-col\">\r\n                        <span className=\"text-xs text-white/80 uppercase font-bold tracking-wider\">\r\n                            {isRtl ? 'الإجمالي' : 'Total'}\r\n                        </span>\r\n                        <span className=\"font-bold text-lg font-mono\">\r\n                            {total.toLocaleString()} DA\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2 font-bold bg-white/10 px-4 py-2 rounded-lg hover:bg-white/20 transition-colors\">\r\n                    <span>{isRtl ? 'عرض السلة' : 'Voir le Panier'}</span>\r\n                    {isRtl ? <ArrowLeft className=\"w-5 h-5\" /> : <ArrowRight className=\"w-5 h-5\" />}\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AANA;;;;;;;AAQO,SAAS;IACZ,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,cAAc,EAAE,GAAG,IAAA,wHAAQ;IACnD,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,sCAAsC;IACtC,IAAA,kNAAS,EAAC;QACN,IAAI,KAAK,MAAM,GAAG,GAAG;YACjB,WAAW;YACX,MAAM,QAAQ,WAAW,IAAM,WAAW,QAAQ;YAClD,OAAO,IAAM,aAAa;QAC9B;IACJ,GAAG;QAAC,KAAK,MAAM;KAAC;IAEhB,oDAAoD;IACpD,IAAI,KAAK,MAAM,KAAK,KAAK,aAAa,WAAW,SAAS,UAAU,CAAC,WAAW,OAAO;IAEvF,MAAM,QAAQ;IACd,MAAM,QAAQ,aAAa;IAE3B,qBACI,8OAAC;QAAI,WAAW,CAAC,qEAAqE,EAAE,UAAU,cAAc,aAAa;kBACzH,cAAA,8OAAC,uKAAI;YACD,MAAK;YACL,WAAU;;8BAEV,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,mOAAW;oCAAC,WAAU;;;;;;8CACvB,8OAAC;oCAAK,WAAU;8CACX,KAAK,MAAM;;;;;;;;;;;;sCAGpB,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAK,WAAU;8CACX,QAAQ,aAAa;;;;;;8CAE1B,8OAAC;oCAAK,WAAU;;wCACX,MAAM,cAAc;wCAAG;;;;;;;;;;;;;;;;;;;8BAKpC,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;sCAAM,QAAQ,cAAc;;;;;;wBAC5B,sBAAQ,8OAAC,6NAAS;4BAAC,WAAU;;;;;iDAAe,8OAAC,gOAAU;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKvF"}}]
}