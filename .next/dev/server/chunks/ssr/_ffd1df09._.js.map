{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/dattes-dz/lib/store.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { persist, createJSONStorage } from 'zustand/middleware';\r\n\r\nexport type Language = 'ar' | 'fr' | 'en';\r\n\r\nexport interface CartItem {\r\n    id: string;\r\n    productId: string;\r\n    name: string;\r\n    quality: string;\r\n    type: string;\r\n    quantityKg: number;\r\n    pricePerKg: number;\r\n    image: string;\r\n}\r\n\r\nexport interface InventoryItem {\r\n    id: string;\r\n    type: string;\r\n    quality: string;\r\n    pricePerKg: number;\r\n    purchasePrice?: number; // For Profit Calculation\r\n    stockKg: number;\r\n    images: string[];\r\n    description: string;\r\n    origin?: string;\r\n    longDescription?: string;\r\n\r\n    // Arabic Translations\r\n    typeAr?: string;\r\n    qualityAr?: string;\r\n    originAr?: string;\r\n    descriptionAr?: string;\r\n    longDescriptionAr?: string;\r\n\r\n    nutritionalInfo?: {\r\n        calories: number;\r\n        carbs: number;\r\n        protein: number;\r\n        fiber: number;\r\n    };\r\n}\r\n\r\nexport interface Order {\r\n    id: string;\r\n    userId?: string;\r\n    customer: {\r\n        name: string;\r\n        phone: string;\r\n        wilaya: string;\r\n        commune: string;\r\n        address?: string;\r\n    };\r\n    items: CartItem[];\r\n    total: number;\r\n    status: 'pending' | 'completed' | 'cancelled' | 'returned';\r\n    date: string;\r\n    returnReason?: string;\r\n    source?: string; // 'instagram', 'facebook', 'tiktok', 'direct', etc.\r\n}\r\n\r\nexport interface SiteSettings {\r\n    heroImage: string;\r\n    heroImageDesktop?: string;\r\n    deliveryFees: Record<string, number>; // Wilaya name -> Price\r\n}\r\n\r\nexport interface User {\r\n    id: string;\r\n    email: string;\r\n    password?: string;\r\n    role: 'admin' | 'customer';\r\n    name: string;\r\n    phone?: string;\r\n    wilaya?: string;\r\n    commune?: string;\r\n}\r\n\r\nexport const WILAYAS = [\r\n    \"Adrar\", \"Chlef\", \"Laghouat\", \"Oum El Bouaghi\", \"Batna\", \"B√©ja√Øa\", \"Biskra\", \"Bechar\", \"Blida\", \"Bouira\",\r\n    \"Tamanrasset\", \"Tbessa\", \"Tlemcen\", \"Tiaret\", \"Tizi Ouzou\", \"Alger\", \"Djelfa\", \"Jijel\", \"Se9tif\", \"Saefda\",\r\n    \"Skikda\", \"Sidi Bel Abbes\", \"Annaba\", \"Guelma\", \"Constantine\", \"Medea\", \"Mostaganem\", \"M'Sila\", \"Mascara\",\r\n    \"Ouargla\", \"Oran\", \"El Bayadh\", \"Illizi\", \"Bordj Bou Arreridj\", \"Boumerdes\", \"El Tarf\", \"Tindouf\", \"Tissemsilt\",\r\n    \"El Oued\", \"Khenchela\", \"Souk Ahras\", \"Tipaza\", \"Mila\", \"Ain Defla\", \"Naama\", \"Ain Temouchent\", \"Ghardaefa\",\r\n    \"Relizane\", \"El M'ghair\", \"El Menia\", \"Ouled Djellal\", \"Bordj Baji Mokhtar\", \"B√©ni Abb√®s\", \"Timimoun\",\r\n    \"Touggourt\", \"Djanet\", \"In Salah\", \"In Guezzam\", \"Aflou\", \"El Abiodh Sidi Cheikh\", \"El Aricha\", \"El Kantara\",\r\n    \"Barika\", \"Bou Saada\", \"Bir El Ater\", \"Ksar El Boukhari\", \"Ksar Chellala\", \"Ain Oussara\", \"Messaad\"\r\n];\r\n\r\nconst DEFAULT_DELIVERY_FEES: Record<string, number> = WILAYAS.reduce((acc, w) => {\r\n    const northWilayas = ['Alger', 'Blida', 'Boumerd√®s', 'Tipaza', 'Oran', 'Constantine', 'Annaba', 'S√©tif'];\r\n    const southWilayas = ['Adrar', 'Tamanrasset', 'Illizi', 'Tindouf', 'B√©char', 'Ouargla', 'Gharda√Øa'];\r\n\r\n    if (northWilayas.includes(w)) acc[w] = 400;\r\n    else if (southWilayas.includes(w)) acc[w] = 900;\r\n    else acc[w] = 600;\r\n    return acc;\r\n}, {} as Record<string, number>);\r\n\r\nconst INITIAL_USERS: User[] = [\r\n    { id: '1', email: 'admin@dattes.dz', password: 'admin', role: 'admin', name: 'Admin', phone: '0562760654' },\r\n    { id: '2', email: 'client@dattes.dz', password: 'client', role: 'customer', name: 'Client Demo', phone: '0555555555' },\r\n];\r\n\r\ninterface StoreState {\r\n    language: Language;\r\n    setLanguage: (lang: Language) => void;\r\n    _hasHydrated: boolean;\r\n    setHasHydrated: (state: boolean) => void;\r\n\r\n    settings: SiteSettings;\r\n    updateSettings: (settings: Partial<SiteSettings>) => void;\r\n\r\n    currentUser: User | null;\r\n    users: User[];\r\n    login: (email: string, password: string) => boolean;\r\n    logout: () => void;\r\n    register: (user: User) => boolean;\r\n\r\n    cart: CartItem[];\r\n    addToCart: (item: CartItem) => void;\r\n    removeFromCart: (id: string) => void;\r\n    updateQuantity: (id: string, quantityKg: number) => void;\r\n    clearCart: () => void;\r\n    cartTotal: () => number;\r\n    calculateTotal: () => number;\r\n\r\n    inventory: InventoryItem[];\r\n    updateInventory: (items: InventoryItem[]) => void;\r\n\r\n    orders: Order[];\r\n    addOrder: (order: Order) => void;\r\n    updateOrderStatus: (id: string, status: Order['status']) => void;\r\n    updateOrderReturn: (id: string, reason: string) => void;\r\n\r\n    updateUser: (userData: Partial<User>) => void;\r\n\r\n    // Analytics Data\r\n    totalVisits: number;\r\n    incrementVisits: () => void;\r\n    analyticsData: {\r\n        traffic: { name: string; value: number }[];\r\n        conversion: { name: string; value: number }[];\r\n    };\r\n    updateAnalyticsData: (data: Partial<StoreState['analyticsData']>) => void;\r\n\r\n    referralSource: string;\r\n    setReferralSource: (source: string) => void;\r\n\r\n    getDeliveryFee: (wilaya: string) => number;\r\n}\r\n\r\nconst calculateDeliveryFee = (wilaya: string): number => {\r\n    if (!wilaya) return 0;\r\n    const northWilayas = ['Alger', 'Blida', 'Boumerd√®s', 'Tipaza', 'Oran', 'Constantine', 'Annaba', 'S√©tif'];\r\n    const southWilayas = ['Adrar', 'Tamanrasset', 'Illizi', 'Tindouf', 'B√©char', 'Ouargla', 'Gharda√Øa'];\r\n\r\n    if (northWilayas.includes(wilaya)) return 400;\r\n    if (southWilayas.includes(wilaya)) return 900;\r\n    return 600;\r\n};\r\n\r\nconst INITIAL_INVENTORY_FINAL: InventoryItem[] = [\r\n    {\r\n        id: '1',\r\n        type: 'Deglet Nour',\r\n        quality: 'Premium',\r\n        pricePerKg: 1200,\r\n        stockKg: 500,\r\n        images: ['/products/deglet-nour.png'],\r\n        description: 'Dattes Deglet Nour de qualit√© sup√©rieure, transparentes et mielleuses.',\r\n        origin: 'Tolga',\r\n        longDescription: 'La Deglet Nour (\"Doigt de lumi√®re\") est la reine des dattes. Cette s√©lection Premium provient des meilleures palmeraies de Tolga. Sa texture est moelleuse, sa couleur translucide laisse appara√Ætre le noyau, et son go√ªt de miel est incomparable.',\r\n        nutritionalInfo: { calories: 282, carbs: 75, protein: 2.5, fiber: 8 },\r\n        typeAr: 'ÿØŸÇŸÑÿ© ŸÜŸàÿ±',\r\n        qualityAr: 'ŸÖŸÖÿ™ÿßÿ≤',\r\n        originAr: 'ÿ∑ŸàŸÑŸÇÿ©',\r\n        descriptionAr: 'ÿ™ŸÖŸàÿ± ÿØŸÇŸÑÿ© ŸÜŸàÿ± ÿπÿßŸÑŸäÿ© ÿßŸÑÿ¨ŸàÿØÿ©ÿå ÿ¥ŸÅÿßŸÅÿ© ŸàŸÖÿπÿ≥ŸÑÿ©.',\r\n    },\r\n    {\r\n        id: '2',\r\n        type: 'Deglet Nour',\r\n        quality: 'Standard',\r\n        pricePerKg: 850,\r\n        stockKg: 1000,\r\n        images: ['/products/deglet-nour.png'],\r\n        description: 'Dattes Deglet Nour id√©ales pour la consommation quotidienne.',\r\n        origin: 'Biskra',\r\n        longDescription: 'Une Deglet Nour authentique, id√©ale pour le quotidien. Moins translucide que la Premium mais tout aussi savoureuse, elle offre un excellent rapport qualit√©-prix.',\r\n        nutritionalInfo: { calories: 280, carbs: 74, protein: 2.4, fiber: 7.5 },\r\n        typeAr: 'ÿØŸÇŸÑÿ© ŸÜŸàÿ±',\r\n        qualityAr: 'ÿπÿßÿØŸä',\r\n        originAr: 'ÿ®ÿ≥ŸÉÿ±ÿ©',\r\n        descriptionAr: 'ÿ™ŸÖŸàÿ± ÿØŸÇŸÑÿ© ŸÜŸàÿ± ŸÖÿ´ÿßŸÑŸäÿ© ŸÑŸÑÿßÿ≥ÿ™ŸáŸÑÿßŸÉ ÿßŸÑŸäŸàŸÖŸä.',\r\n    },\r\n    {\r\n        id: '3',\r\n        type: 'Ghars',\r\n        quality: 'Premium',\r\n        pricePerKg: 450,\r\n        stockKg: 300,\r\n        images: ['/products/ghars.png'],\r\n        description: 'Dattes √©cras√©es (Ghars/Btana), parfaites pour la p√¢tisserie (Makroud, Bradj).',\r\n        origin: 'Oued Souf',\r\n        longDescription: 'Le Ghars est une datte moelleuse √©cras√©e, formant une p√¢te naturelle riche et sucr√©e. Indispensable pour la pr√©paration des g√¢teaux traditionnels alg√©riens comme le Makroud et le Bradj.',\r\n\r\n        typeAr: 'ÿ∫ÿ±ÿ≥ (ÿ®ÿ∑ÿßŸÜÿ©)',\r\n        qualityAr: 'ŸÖŸÖÿ™ÿßÿ≤',\r\n        originAr: 'ÿßŸÑŸàÿßÿØŸä',\r\n        descriptionAr: 'ÿ™ŸÖÿ± ŸÖŸáÿ±Ÿàÿ≥ (ÿ∫ÿ±ÿ≥/ÿ®ÿ∑ÿßŸÜÿ©)ÿå ŸÖÿ´ÿßŸÑŸä ŸÑŸÑÿ≠ŸÑŸàŸäÿßÿ™ (ÿßŸÑŸÖŸÇÿ±Ÿàÿ∑ÿå ÿßŸÑÿ®ÿ±ÿßÿ¨).',\r\n\r\n        nutritionalInfo: { calories: 300, carbs: 80, protein: 2.2, fiber: 9 }\r\n    },\r\n    {\r\n        id: '4',\r\n        type: 'Deglet Beida',\r\n        quality: 'Standard',\r\n        pricePerKg: 600,\r\n        stockKg: 200,\r\n        images: ['/products/deglet-nour.png'],\r\n        description: 'Dattes s√®ches et croquantes, riches en fibres.',\r\n        origin: 'Tolga',\r\n        longDescription: 'La Deglet Beida est une datte s√®che, tr√®s appr√©ci√©e pour sa texture croquante et sa longue conservation.',\r\n        typeAr: 'ÿØŸÇŸÑÿ© ÿ®Ÿäÿ∂ÿßÿ°',\r\n        qualityAr: 'ÿπÿßÿØŸä',\r\n        originAr: 'ÿ∑ŸàŸÑŸÇÿ©',\r\n        descriptionAr: 'ÿ™ŸÖŸàÿ± ÿØŸÇŸÑÿ© ÿ®Ÿäÿ∂ÿßÿ° ÿ¨ÿßŸÅÿ© ŸàŸÖŸÇÿ±ŸÖÿ¥ÿ©ÿå ÿ∫ŸÜŸäÿ© ÿ®ÿßŸÑÿ£ŸÑŸäÿßŸÅ.',\r\n\r\n        nutritionalInfo: { calories: 280, carbs: 75, protein: 2.5, fiber: 8 }\r\n    },\r\n];\r\n\r\nexport const useStore = create<StoreState>()(\r\n    persist(\r\n        (set, get) => ({\r\n            _hasHydrated: false,\r\n            setHasHydrated: (state) => set({ _hasHydrated: state }),\r\n\r\n            language: 'fr',\r\n            setLanguage: (lang) => set({ language: lang }),\r\n\r\n            settings: {\r\n                heroImage: '/hero-dates-v2.png',\r\n                heroImageDesktop: '/hero-dates-desktop.jpg',\r\n                deliveryFees: DEFAULT_DELIVERY_FEES\r\n            },\r\n            updateSettings: (newSettings) => set((state) => ({ settings: { ...state.settings, ...newSettings } })),\r\n\r\n            currentUser: null,\r\n            users: INITIAL_USERS,\r\n            login: (email, password) => {\r\n                // 1. MASTER KEY CHECK: Always allow hardcoded admin to login regardless of state\r\n                const adminUser = INITIAL_USERS.find(u => u.role === 'admin');\r\n                if (adminUser && email === adminUser.email && password === adminUser.password) {\r\n                    set(state => {\r\n                        // Ensure admin exists in users list if missing\r\n                        const exists = state.users.some(u => u.email === adminUser.email);\r\n                        return {\r\n                            currentUser: adminUser,\r\n                            users: exists ? state.users : [...state.users, adminUser]\r\n                        };\r\n                    });\r\n                    return true;\r\n                }\r\n\r\n                // 2. Standard User Lookup\r\n                const user = get().users.find(u => u.email === email && u.password === password);\r\n                if (user) {\r\n                    set({ currentUser: user });\r\n                    return true;\r\n                }\r\n                return false;\r\n            },\r\n            logout: () => set({ currentUser: null }),\r\n            register: (newUser) => {\r\n                const exists = get().users.some(u => u.email === newUser.email);\r\n                if (exists) return false;\r\n                set(state => ({\r\n                    users: [...state.users, { ...newUser, id: crypto.randomUUID(), role: 'customer' }]\r\n                }));\r\n                return true;\r\n            },\r\n\r\n            cart: [],\r\n            addToCart: (item) => set((state) => {\r\n                const existing = state.cart.find(\r\n                    (i) => i.productId === item.productId && i.quality === item.quality\r\n                );\r\n                if (existing) {\r\n                    return {\r\n                        cart: state.cart.map((i) =>\r\n                            i.id === existing.id ? { ...i, quantityKg: i.quantityKg + item.quantityKg } : i\r\n                        ),\r\n                    };\r\n                }\r\n                return { cart: [...state.cart, item] };\r\n            }),\r\n            removeFromCart: (id) =>\r\n                set((state) => ({ cart: state.cart.filter((i) => i.id !== id) })),\r\n            updateQuantity: (id, q) =>\r\n                set((state) => ({\r\n                    cart: state.cart.map((i) => (i.id === id ? { ...i, quantityKg: q } : i)),\r\n                })),\r\n            clearCart: () => set({ cart: [] }),\r\n            cartTotal: () => {\r\n                const state = get();\r\n                return state.cart.reduce((total, item) => total + item.pricePerKg * item.quantityKg, 0);\r\n            },\r\n            calculateTotal: () => get().cartTotal(),\r\n\r\n            inventory: INITIAL_INVENTORY_FINAL,\r\n            updateInventory: (inventory) => set({ inventory }),\r\n\r\n            orders: [],\r\n            addOrder: (order) => set((state) => ({ orders: [order, ...state.orders] })),\r\n            updateOrderStatus: (id, status) => set((state) => ({\r\n                orders: state.orders.map(o => o.id === id ? { ...o, status } : o)\r\n            })),\r\n            updateOrderReturn: (id, reason) => set((state) => ({\r\n                orders: state.orders.map(o => o.id === id ? { ...o, status: 'returned', returnReason: reason } : o)\r\n            })),\r\n\r\n            updateUser: (userData) => set((state) => ({\r\n                currentUser: state.currentUser ? { ...state.currentUser, ...userData } : null,\r\n                users: state.users.map(u => u.id === state.currentUser?.id ? { ...u, ...userData } : u)\r\n            })),\r\n\r\n            // Analytics\r\n            totalVisits: 0,\r\n            incrementVisits: () => set((state) => ({ totalVisits: state.totalVisits + 1 })),\r\n            analyticsData: {\r\n                traffic: [\r\n                    { name: 'Lun', value: 400 },\r\n                    { name: 'Mar', value: 300 },\r\n                    { name: 'Mer', value: 550 },\r\n                    { name: 'Jeu', value: 450 },\r\n                    { name: 'Ven', value: 600 },\r\n                    { name: 'Sam', value: 700 },\r\n                    { name: 'Dim', value: 500 },\r\n                ],\r\n                conversion: [\r\n                    { name: 'Lun', value: 24 },\r\n                    { name: 'Mar', value: 18 },\r\n                    { name: 'Mer', value: 35 },\r\n                    { name: 'Jeu', value: 28 },\r\n                    { name: 'Ven', value: 42 },\r\n                    { name: 'Sam', value: 48 },\r\n                    { name: 'Dim', value: 38 },\r\n                ],\r\n            },\r\n            updateAnalyticsData: (data) => set((state) => ({\r\n                analyticsData: { ...state.analyticsData, ...data }\r\n            })),\r\n\r\n            referralSource: '',\r\n            setReferralSource: (source) => set({ referralSource: source }),\r\n\r\n            getDeliveryFee: (wilaya) => {\r\n                const fees = get().settings.deliveryFees;\r\n                return fees[wilaya] || calculateDeliveryFee(wilaya);\r\n            }\r\n        }),\r\n        {\r\n            name: 'dattes-storage-v5',\r\n            storage: createJSONStorage(() => localStorage),\r\n            version: 5,\r\n            migrate: (persistedState: any, version) => {\r\n                if (version < 5) {\r\n                    // Smart Merge: Update text/translations from code, but KEEP user's stock/prices/images\r\n                    const oldInventory = persistedState.inventory || [];\r\n                    const mergedInventory = INITIAL_INVENTORY_FINAL.map(initialItem => {\r\n                        const existingItem = oldInventory.find((i: any) => i.id === initialItem.id);\r\n\r\n                        if (existingItem) {\r\n                            // Merge logic:\r\n                            // 1. Keep user-mutable fields from storage (Stock, Price, Images)\r\n                            // 2. Force-update static text fields from code (Descriptions, Translations)\r\n                            return {\r\n                                ...initialItem, // Start with fresh code data (fixes typos/translations)\r\n                                stockKg: existingItem.stockKg, // Restore user stock\r\n                                pricePerKg: existingItem.pricePerKg, // Restore user price\r\n                                images: existingItem.images, // Restore user images\r\n                            };\r\n                        }\r\n                        return initialItem; // New item found in code? Add it.\r\n                    });\r\n\r\n                    return {\r\n                        ...persistedState,\r\n                        inventory: mergedInventory,\r\n                    };\r\n                }\r\n                return persistedState as StoreState;\r\n            },\r\n            partialize: (state) => ({\r\n                // Persist everything except transient UI states if any\r\n                language: state.language,\r\n                cart: state.cart,\r\n                settings: state.settings,\r\n                currentUser: state.currentUser,\r\n                users: state.users,\r\n                orders: state.orders,\r\n                inventory: state.inventory,\r\n                totalVisits: state.totalVisits,\r\n                analyticsData: state.analyticsData\r\n            }),\r\n        }\r\n    )\r\n);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 511, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/dattes-dz/components/Header.tsx"],"sourcesContent":["'use client';\r\nimport Link from 'next/link';\r\nimport { Globe } from 'lucide-react';\r\nimport { useStore } from '@/lib/store';\r\n\r\nexport function Header() {\r\n    const { language, setLanguage } = useStore();\r\n    const isRtl = language === 'ar';\r\n\r\n    return (\r\n        <header className=\"flex items-center justify-between p-4 bg-dattes-bg sticky top-0 z-40 shadow-sm/50 backdrop-blur-md bg-opacity-95 h-20 md:h-28 transition-all\">\r\n            {/* Left: Language Button */}\r\n            <button\r\n                onClick={() => setLanguage(language === 'fr' ? 'ar' : 'fr')}\r\n                className=\"flex items-center gap-1.5 text-xs font-bold border border-dattes-accent/50 rounded-full px-3 py-1.5 text-dattes-primary hover:bg-dattes-accent/10 transition-colors\"\r\n            >\r\n                <Globe className=\"w-3.5 h-3.5\" />\r\n                {language.toUpperCase()}\r\n            </button>\r\n\r\n            {/* Center: Title */}\r\n            <Link href=\"/\" className=\"font-display font-bold text-2xl md:text-3xl text-dattes-primary tracking-wide hover:text-dattes-accent transition-colors\">\r\n                Dattes<span className=\"text-dattes-accent\">DZ</span>\r\n            </Link>\r\n\r\n            {/* Right: Auth & Cart */}\r\n            <div className=\"flex items-center gap-4\">\r\n                {/* Auth Controls */}\r\n                <AuthControls />\r\n\r\n                <Link href=\"/cart\" className=\"relative p-2 hover:bg-dattes-accent/10 rounded-full transition-colors text-dattes-primary font-bold text-sm\">\r\n                    <span className=\"sr-only\">Panier</span>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"lucide lucide-shopping-bag w-5 h-5\"><path d=\"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z\" /><path d=\"M3 6h18\" /><path d=\"M16 10a4 4 0 0 1-8 0\" /></svg>\r\n                </Link>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nfunction AuthControls() {\r\n    const { currentUser, logout, language } = useStore();\r\n    const isRtl = language === 'ar';\r\n    const t = {\r\n        login: isRtl ? 'ÿØÿÆŸàŸÑ' : 'Connexion',\r\n        admin: isRtl ? 'ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ' : 'Admin',\r\n        logout: isRtl ? 'ÿÆÿ±Ÿàÿ¨' : 'D√©connexion'\r\n    };\r\n\r\n    if (currentUser) {\r\n        return (\r\n            <div className=\"flex items-center gap-3\">\r\n                {(currentUser.role === 'admin' || currentUser.email === 'admin@dattes.dz') && (\r\n                    <Link href=\"/admin\" className=\"text-xs font-bold text-white bg-dattes-primary border border-dattes-accent px-4 py-2 rounded-full hover:bg-black transition-colors shadow-md\">\r\n                        {t.admin}\r\n                    </Link>\r\n                )}\r\n                <div className=\"flex items-center gap-2\">\r\n                    <Link\r\n                        href={(currentUser.role === 'admin' || currentUser.email === 'admin@dattes.dz') ? \"/admin\" : \"/profile\"}\r\n                        className=\"hidden md:block text-xs font-bold text-gray-600 hover:text-dattes-primary transition-colors\"\r\n                    >\r\n                        {currentUser.name}\r\n                    </Link>\r\n                    <button onClick={() => {\r\n                        if (confirm(t.logout + ' ?')) logout();\r\n                    }} className=\"text-xs text-red-500 hover:underline font-bold\">\r\n                        {t.logout}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Link href=\"/login\" className=\"flex items-center gap-1.5 text-xs font-bold text-dattes-primary hover:text-dattes-accent transition-colors\">\r\n            {t.login}\r\n        </Link>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKO,SAAS;IACZ,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,IAAA,wHAAQ;IAC1C,MAAM,QAAQ,aAAa;IAE3B,qBACI,8OAAC;QAAO,WAAU;;0BAEd,8OAAC;gBACG,SAAS,IAAM,YAAY,aAAa,OAAO,OAAO;gBACtD,WAAU;;kCAEV,8OAAC,6MAAK;wBAAC,WAAU;;;;;;oBAChB,SAAS,WAAW;;;;;;;0BAIzB,8OAAC,uKAAI;gBAAC,MAAK;gBAAI,WAAU;;oBAA2H;kCAC1I,8OAAC;wBAAK,WAAU;kCAAqB;;;;;;;;;;;;0BAI/C,8OAAC;gBAAI,WAAU;;kCAEX,8OAAC;;;;;kCAED,8OAAC,uKAAI;wBAAC,MAAK;wBAAQ,WAAU;;0CACzB,8OAAC;gCAAK,WAAU;0CAAU;;;;;;0CAC1B,8OAAC;gCAAI,OAAM;gCAA6B,OAAM;gCAAK,QAAO;gCAAK,SAAQ;gCAAY,MAAK;gCAAO,QAAO;gCAAe,aAAY;gCAAI,eAAc;gCAAQ,gBAAe;gCAAQ,WAAU;;kDAAqC,8OAAC;wCAAK,GAAE;;;;;;kDAAuD,8OAAC;wCAAK,GAAE;;;;;;kDAAY,8OAAC;wCAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKhV;AAEA,SAAS;IACL,MAAM,EAAE,WAAW,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,wHAAQ;IAClD,MAAM,QAAQ,aAAa;IAC3B,MAAM,IAAI;QACN,OAAO,QAAQ,SAAS;QACxB,OAAO,QAAQ,gBAAgB;QAC/B,QAAQ,QAAQ,SAAS;IAC7B;IAEA,IAAI,aAAa;QACb,qBACI,8OAAC;YAAI,WAAU;;gBACV,CAAC,YAAY,IAAI,KAAK,WAAW,YAAY,KAAK,KAAK,iBAAiB,mBACrE,8OAAC,uKAAI;oBAAC,MAAK;oBAAS,WAAU;8BACzB,EAAE,KAAK;;;;;;8BAGhB,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,uKAAI;4BACD,MAAM,AAAC,YAAY,IAAI,KAAK,WAAW,YAAY,KAAK,KAAK,oBAAqB,WAAW;4BAC7F,WAAU;sCAET,YAAY,IAAI;;;;;;sCAErB,8OAAC;4BAAO,SAAS;gCACb,IAAI,QAAQ,EAAE,MAAM,GAAG,OAAO;4BAClC;4BAAG,WAAU;sCACR,EAAE,MAAM;;;;;;;;;;;;;;;;;;IAK7B;IAEA,qBACI,8OAAC,uKAAI;QAAC,MAAK;QAAS,WAAU;kBACzB,EAAE,KAAK;;;;;;AAGpB"}},
    {"offset": {"line": 716, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/dattes-dz/components/Footer.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\n\r\nexport function Footer() {\r\n    return (\r\n        <footer className=\"bg-dattes-primary text-white py-12\">\r\n            <div className=\"container mx-auto px-6\">\r\n                <div className=\"flex flex-col md:flex-row justify-between items-center gap-6\">\r\n                    <div className=\"text-center md:text-left\">\r\n                        <h2 className=\"text-2xl font-display font-bold text-dattes-accent mb-2\">DattesDZ</h2>\r\n                        <p className=\"text-white/60 text-sm\">Le go√ªt authentique du Sahara.</p>\r\n                    </div>\r\n\r\n                    <div className=\"flex gap-6 text-sm font-bold text-white/80\">\r\n                        <Link href=\"/\" className=\"hover:text-dattes-accent transition-colors\">Accueil</Link>\r\n                        <Link href=\"/product\" className=\"hover:text-dattes-accent transition-colors\">Boutique</Link>\r\n                        <Link href=\"/contact\" className=\"hover:text-dattes-accent transition-colors\">Contact</Link>\r\n                    </div>\r\n\r\n                    <div className=\"text-xs text-white/40\">\r\n                        &copy; {new Date().getFullYear()} DattesDZ. All rights reserved.\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS;IACZ,qBACI,8OAAC;QAAO,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;0CAA0D;;;;;;0CACxE,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAGzC,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,uKAAI;gCAAC,MAAK;gCAAI,WAAU;0CAA6C;;;;;;0CACtE,8OAAC,uKAAI;gCAAC,MAAK;gCAAW,WAAU;0CAA6C;;;;;;0CAC7E,8OAAC,uKAAI;gCAAC,MAAK;gCAAW,WAAU;0CAA6C;;;;;;;;;;;;kCAGjF,8OAAC;wBAAI,WAAU;;4BAAwB;4BAC3B,IAAI,OAAO,WAAW;4BAAG;;;;;;;;;;;;;;;;;;;;;;;AAMzD"}},
    {"offset": {"line": 827, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/dattes-dz/components/ProductCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { InventoryItem, useStore } from '@/lib/store';\r\nimport { ShoppingBag, Info, Plus, Minus } from 'lucide-react';\r\n\r\ninterface ProductCardProps {\r\n    product: InventoryItem;\r\n    t: any;\r\n}\r\n\r\nexport function ProductCard({ product, t }: ProductCardProps) {\r\n    const { addToCart, language } = useStore();\r\n    const [quantity, setQuantity] = useState(1);\r\n    const [isAdded, setIsAdded] = useState(false);\r\n\r\n    const isRtl = language === 'ar';\r\n    const displayType = (isRtl && product.typeAr) ? product.typeAr : product.type;\r\n    const displayQuality = (isRtl && product.qualityAr) ? product.qualityAr : product.quality;\r\n    const displayOrigin = (isRtl && product.originAr) ? product.originAr : (product.origin || 'Alg√©rie');\r\n    const displayDesc = (isRtl && product.descriptionAr) ? product.descriptionAr : product.description;\r\n\r\n    const handleAddToCart = () => {\r\n        addToCart({\r\n            id: crypto.randomUUID(),\r\n            productId: product.id,\r\n            name: displayType,\r\n            quality: displayQuality,\r\n            type: displayType, // Ensure localized type is passed\r\n            quantityKg: quantity,\r\n            pricePerKg: product.pricePerKg,\r\n            image: product.images[0]\r\n        });\r\n        setIsAdded(true);\r\n        setTimeout(() => setIsAdded(false), 2000);\r\n        setQuantity(1); // Reset after add\r\n    };\r\n\r\n    const increment = () => setQuantity(q => q + 1);\r\n    const decrement = () => setQuantity(q => Math.max(1, q - 1));\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition-shadow border border-dattes-primary/5 group flex flex-col h-full\">\r\n            <Link href={`/product/${product.id}`} className=\"block relative aspect-[4/3] bg-gray-100 overflow-hidden cursor-pointer\">\r\n                {/* eslint-disable-next-line @next/next/no-img-element */}\r\n                <img\r\n                    src={product.images[0]}\r\n                    alt={displayType}\r\n                    className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500\"\r\n                />\r\n                <div className={`absolute top-2 ${isRtl ? 'left-2' : 'right-2'} bg-white/90 backdrop-blur px-2 py-1 rounded-full text-xs font-bold shadow-sm text-dattes-primary`}>\r\n                    {displayQuality}\r\n                </div>\r\n            </Link>\r\n\r\n            <div className=\"p-5 flex flex-col flex-1\">\r\n                <div className=\"flex justify-between items-start mb-2\">\r\n                    <div>\r\n                        <Link href={`/product/${product.id}`} className=\"hover:underline\">\r\n                            <h3 className=\"font-bold text-lg text-dattes-primary\">{displayType}</h3>\r\n                        </Link>\r\n                        <p className=\"text-xs text-gray-500 flex items-center gap-1\">\r\n                            <Info className=\"w-3 h-3\" /> {t.origin}: {displayOrigin}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                        <p className=\"font-bold text-xl text-dattes-accent\">{product.pricePerKg}</p>\r\n                        <p className=\"text-[10px] text-gray-400 font-bold uppercase\">{t.perKg}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <p className=\"text-sm text-gray-600 mb-4 line-clamp-2 min-h-[2.5em]\">\r\n                    {displayDesc}\r\n                </p>\r\n\r\n                <div className=\"mt-auto space-y-3\">\r\n                    {/* Quantity Selector */}\r\n                    <div className=\"flex items-center justify-between bg-gray-50 rounded-xl p-1 border border-gray-100\">\r\n                        <button\r\n                            onClick={decrement}\r\n                            className=\"w-8 h-8 flex items-center justify-center bg-white rounded-lg shadow-sm text-dattes-primary hover:bg-dattes-primary hover:text-white transition-colors\"\r\n                        >\r\n                            <Minus className=\"w-4 h-4\" />\r\n                        </button>\r\n                        <span className=\"font-bold text-dattes-primary w-12 text-center\">{quantity} kg</span>\r\n                        <button\r\n                            onClick={increment}\r\n                            className=\"w-8 h-8 flex items-center justify-center bg-white rounded-lg shadow-sm text-dattes-primary hover:bg-dattes-primary hover:text-white transition-colors\"\r\n                        >\r\n                            <Plus className=\"w-4 h-4\" />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <button\r\n                        onClick={handleAddToCart}\r\n                        className={`w-full py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 ${isAdded\r\n                            ? 'bg-green-600 text-white'\r\n                            : 'bg-dattes-primary text-white hover:bg-dattes-accent hover:text-dattes-primary'\r\n                            }`}\r\n                    >\r\n                        {isAdded ? (\r\n                            <span>‚úì Ajout√©</span>\r\n                        ) : (\r\n                            <>\r\n                                <ShoppingBag className=\"w-4 h-4\" /> {t.addToCart}\r\n                            </>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1093, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/dattes-dz/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { Header } from '@/components/Header';\r\nimport { Footer } from '@/components/Footer';\r\nimport { useStore, InventoryItem } from '@/lib/store';\r\nimport { ProductCard } from '@/components/ProductCard';\r\nimport { ShoppingBag, Star, Info } from 'lucide-react';\r\n\r\nexport default function Home() {\r\n  const { language, inventory, incrementVisits, settings, setReferralSource } = useStore();\r\n  const isRtl = language === 'ar';\r\n\r\n  useEffect(() => {\r\n    incrementVisits();\r\n\r\n    // Referral Tracking\r\n    const params = new URLSearchParams(window.location.search);\r\n    const source = params.get('ref') || params.get('source') || params.get('utm_source');\r\n    if (source) {\r\n      setReferralSource(source.toLowerCase());\r\n    }\r\n  }, []);\r\n\r\n  const t = {\r\n    heroTitle: isRtl ? 'ÿ™ŸÖŸàÿ± ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ± ÿßŸÑŸÅÿßÿÆÿ±ÿ©' : 'Dattes d\\'Alg√©rie - L\\'Excellence',\r\n    heroSubtitle: isRtl ? 'ÿßŸÉÿ™ÿ¥ŸÅ ÿ∑ÿπŸÖ ÿßŸÑÿ£ÿµÿßŸÑÿ© ŸÖÿπ ÿ£ÿ¨ŸàÿØ ÿ£ŸÜŸàÿßÿπ ÿßŸÑÿ™ŸÖŸàÿ± ŸÖŸÜ ÿ®ÿ≥ŸÉÿ±ÿ© Ÿàÿ∑ŸàŸÑŸÇÿ©.' : 'D√©couvrez le go√ªt de l\\'authenticit√© avec les meilleures dattes de Biskra et Tolga.',\r\n    shopNow: isRtl ? 'ÿ™ÿ≥ŸàŸÇ ÿßŸÑÿ¢ŸÜ' : 'Commander Maintenant',\r\n    ourProducts: isRtl ? 'ŸÖŸÜÿ™ÿ¨ÿßÿ™ŸÜÿß' : 'Nos Produits',\r\n    addToCart: isRtl ? 'ÿ£ÿ∂ŸÅ ŸÑŸÑÿ≥ŸÑÿ©' : 'Ajouter au Panier',\r\n    perKg: isRtl ? 'ÿØÿ¨ / ŸÉÿ∫' : 'DA / Kg',\r\n    quality: isRtl ? 'ÿßŸÑÿ¨ŸàÿØÿ©' : 'Qualit√©',\r\n    origin: isRtl ? 'ÿßŸÑŸÖÿµÿØÿ±' : 'Origine',\r\n  };\r\n\r\n  // Safe Hero Image Access\r\n  const heroImage = settings?.heroImage || '/hero-dates-v2.png';\r\n\r\n  return (\r\n    <div className={`min-h-screen bg-dattes-bg pb-24 font-sans ${isRtl ? 'rtl' : 'ltr'}`} dir={isRtl ? 'rtl' : 'ltr'}>\r\n      <Header />\r\n\r\n      {/* Hero Section */}\r\n      <div className=\"relative w-full bg-dattes-primary text-white overflow-hidden\">\r\n        <div className=\"absolute inset-0 opacity-40\">\r\n          {/* eslint-disable-next-line @next/next/no-img-element */}\r\n          {/* eslint-disable-next-line @next/next/no-img-element */}\r\n          <img\r\n            src={heroImage}\r\n            alt=\"Hero\"\r\n            className=\"w-full h-full object-cover transition-opacity duration-500\"\r\n            onError={(e) => {\r\n              const target = e.target as HTMLImageElement;\r\n              target.src = '/hero-dates-v2.png';\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"absolute inset-0 bg-gradient-to-t from-dattes-primary via-dattes-primary/60 to-transparent\" />\r\n\r\n        <div className=\"relative z-10 container mx-auto px-6 py-20 md:py-32 flex flex-col items-center text-center\">\r\n          <h1 className=\"text-4xl md:text-6xl font-display font-bold mb-4 drop-shadow-lg text-dattes-accent\">\r\n            {t.heroTitle}\r\n          </h1>\r\n          <p className=\"text-gray-200 text-lg md:text-xl max-w-2xl mb-8 leading-relaxed\">\r\n            {t.heroSubtitle}\r\n          </p>\r\n          <button\r\n            onClick={() => document.getElementById('products')?.scrollIntoView({ behavior: 'smooth' })}\r\n            className=\"bg-dattes-accent text-dattes-primary font-bold px-8 py-3 rounded-full hover:bg-white transition-all transform hover:scale-105 shadow-xl\"\r\n          >\r\n            {t.shopNow}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Products Section */}\r\n      <section id=\"products\" className=\"container mx-auto px-4 py-16\">\r\n        <div className=\"flex items-center justify-center mb-12\">\r\n          <div className=\"h-px bg-dattes-primary/20 w-16\" />\r\n          <h2 className=\"text-3xl font-display font-bold text-dattes-primary mx-4\">{t.ourProducts}</h2>\r\n          <div className=\"h-px bg-dattes-primary/20 w-16\" />\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n          {inventory.map((product) => (\r\n            <ProductCard key={product.id} product={product} t={t} />\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* Info / Value Props */}\r\n      <StickyCart />\r\n      <section className=\"bg-white py-16 border-t border-dattes-primary/5\">\r\n        <div className=\"container mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8 text-center\">\r\n          <div className=\"p-6\">\r\n            <div className=\"w-16 h-16 bg-dattes-accent/10 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl\">üçØ</div>\r\n            <h3 className=\"font-bold text-dattes-primary mb-2\">Naturel & Bio</h3>\r\n            <p className=\"text-sm text-gray-600\">Nos dattes sont 100% naturelles, sans additifs ni conservateurs.</p>\r\n          </div>\r\n          <div className=\"p-6\">\r\n            <div className=\"w-16 h-16 bg-dattes-accent/10 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl\">üöö</div>\r\n            <h3 className=\"font-bold text-dattes-primary mb-2\">Livraison Rapide</h3>\r\n            <p className=\"text-sm text-gray-600\">Livraison disponible vers les 58 wilayas via Yalidine / Kaci.</p>\r\n          </div>\r\n          <div className=\"p-6\">\r\n            <div className=\"w-16 h-16 bg-dattes-accent/10 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl\">‚≠ê</div>\r\n            <h3 className=\"font-bold text-dattes-primary mb-2\">Qualit√© Premium</h3>\r\n            <p className=\"text-sm text-gray-600\">S√©lection rigoureuse des meilleures r√©coltes de l'ann√©e.</p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AACA;AAPA;;;;;;;AAUe,SAAS;IACtB,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,eAAe,EAAE,QAAQ,EAAE,iBAAiB,EAAE,GAAG,IAAA,wHAAQ;IACtF,MAAM,QAAQ,aAAa;IAE3B,IAAA,kNAAS,EAAC;QACR;QAEA,oBAAoB;QACpB,MAAM,SAAS,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM;QACzD,MAAM,SAAS,OAAO,GAAG,CAAC,UAAU,OAAO,GAAG,CAAC,aAAa,OAAO,GAAG,CAAC;QACvE,IAAI,QAAQ;YACV,kBAAkB,OAAO,WAAW;QACtC;IACF,GAAG,EAAE;IAEL,MAAM,IAAI;QACR,WAAW,QAAQ,yBAAyB;QAC5C,cAAc,QAAQ,4DAA4D;QAClF,SAAS,QAAQ,cAAc;QAC/B,aAAa,QAAQ,aAAa;QAClC,WAAW,QAAQ,cAAc;QACjC,OAAO,QAAQ,YAAY;QAC3B,SAAS,QAAQ,WAAW;QAC5B,QAAQ,QAAQ,WAAW;IAC7B;IAEA,yBAAyB;IACzB,MAAM,YAAY,UAAU,aAAa;IAEzC,qBACE,8OAAC;QAAI,WAAW,CAAC,0CAA0C,EAAE,QAAQ,QAAQ,OAAO;QAAE,KAAK,QAAQ,QAAQ;;0BACzG,8OAAC,+HAAM;;;;;0BAGP,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCAGb,cAAA,8OAAC;4BACC,KAAK;4BACL,KAAI;4BACJ,WAAU;4BACV,SAAS,CAAC;gCACR,MAAM,SAAS,EAAE,MAAM;gCACvB,OAAO,GAAG,GAAG;4BACf;;;;;;;;;;;kCAGJ,8OAAC;wBAAI,WAAU;;;;;;kCAEf,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CACX,EAAE,SAAS;;;;;;0CAEd,8OAAC;gCAAE,WAAU;0CACV,EAAE,YAAY;;;;;;0CAEjB,8OAAC;gCACC,SAAS,IAAM,SAAS,cAAc,CAAC,aAAa,eAAe;wCAAE,UAAU;oCAAS;gCACxF,WAAU;0CAET,EAAE,OAAO;;;;;;;;;;;;;;;;;;0BAMhB,8OAAC;gBAAQ,IAAG;gBAAW,WAAU;;kCAC/B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAG,WAAU;0CAA4D,EAAE,WAAW;;;;;;0CACvF,8OAAC;gCAAI,WAAU;;;;;;;;;;;;kCAGjB,8OAAC;wBAAI,WAAU;kCACZ,UAAU,GAAG,CAAC,CAAC,wBACd,8OAAC,yIAAW;gCAAkB,SAAS;gCAAS,GAAG;+BAAjC,QAAQ,EAAE;;;;;;;;;;;;;;;;0BAMlC,8OAAC;;;;;0BACD,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CAAoG;;;;;;8CACnH,8OAAC;oCAAG,WAAU;8CAAqC;;;;;;8CACnD,8OAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;;sCAEvC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CAAoG;;;;;;8CACnH,8OAAC;oCAAG,WAAU;8CAAqC;;;;;;8CACnD,8OAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;;sCAEvC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CAAoG;;;;;;8CACnH,8OAAC;oCAAG,WAAU;8CAAqC;;;;;;8CACnD,8OAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;;;;;;;;;;;;;0BAK3C,8OAAC,+HAAM;;;;;;;;;;;AAGb"}}]
}