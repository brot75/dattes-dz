{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/dattes-dz/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from 'firebase/app';\r\nimport { getStorage } from 'firebase/storage';\r\nimport { getFirestore } from 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyD5Z-beYBUJS5kL0VjftPizpahVrP5Od44\",\r\n    authDomain: \"abdattes-production-2026.firebaseapp.com\",\r\n    projectId: \"abdattes-production-2026\",\r\n    storageBucket: \"abdattes-production-2026.firebasestorage.app\",\r\n    messagingSenderId: \"1010651736384\",\r\n    appId: \"1:1010651736384:web:2476a3f0474d76a110f2a5\"\r\n};\r\n\r\n// Initialize Firebase (Singleton pattern)\r\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\r\n\r\nexport const storage = getStorage(app);\r\nexport const db = getFirestore(app);\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACnB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACX;AAEA,0CAA0C;AAC1C,MAAM,MAAM,IAAA,6KAAO,IAAG,MAAM,KAAK,IAAI,IAAA,mLAAa,EAAC,kBAAkB,IAAA,6KAAO,GAAE,CAAC,EAAE;AAE1E,MAAM,UAAU,IAAA,oMAAU,EAAC;AAC3B,MAAM,KAAK,IAAA,mLAAY,EAAC"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/dattes-dz/app/api/settings/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { db } from '@/lib/firebase';\r\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\r\n\r\n// Force dynamic to ensure we always read the file\r\nexport const dynamic = 'force-dynamic';\r\n\r\nconst DEFAULT_SETTINGS = {\r\n    heroImage: '/hero-dates-v2.png',\r\n    deliveryFees: {}\r\n};\r\n\r\nexport async function GET() {\r\n    try {\r\n        const docRef = doc(db, 'settings', 'global');\r\n        const docSnap = await getDoc(docRef);\r\n\r\n        if (docSnap.exists()) {\r\n            return NextResponse.json(docSnap.data());\r\n        } else {\r\n            // Document doesn't exist, return defaults (and maybe initialize it)\r\n            return NextResponse.json(DEFAULT_SETTINGS);\r\n        }\r\n    } catch (error) {\r\n        console.error('Error reading settings from Firestore:', error);\r\n        // Fallback to default if Firestore fails (e.g. not enabled)\r\n        return NextResponse.json(DEFAULT_SETTINGS);\r\n    }\r\n}\r\n\r\nexport async function POST(request: Request) {\r\n    try {\r\n        const newSettings = await request.json();\r\n        const docRef = doc(db, 'settings', 'global');\r\n\r\n        // Save to Firestore (Merge with existing)\r\n        await setDoc(docRef, newSettings, { merge: true });\r\n\r\n        // Fetch back to confirm full state or just return merged\r\n        return NextResponse.json({ success: true, settings: newSettings });\r\n\r\n    } catch (error) {\r\n        console.error('Error saving settings to Firestore:', error);\r\n        return NextResponse.json({\r\n            error: 'Failed to save settings',\r\n            details: (error as any).message\r\n        }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AAAA;;;;AAGO,MAAM,UAAU;AAEvB,MAAM,mBAAmB;IACrB,WAAW;IACX,cAAc,CAAC;AACnB;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,SAAS,IAAA,0KAAG,EAAC,uHAAE,EAAE,YAAY;QACnC,MAAM,UAAU,MAAM,IAAA,6KAAM,EAAC;QAE7B,IAAI,QAAQ,MAAM,IAAI;YAClB,OAAO,gJAAY,CAAC,IAAI,CAAC,QAAQ,IAAI;QACzC,OAAO;YACH,oEAAoE;YACpE,OAAO,gJAAY,CAAC,IAAI,CAAC;QAC7B;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,0CAA0C;QACxD,4DAA4D;QAC5D,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B;AACJ;AAEO,eAAe,KAAK,OAAgB;IACvC,IAAI;QACA,MAAM,cAAc,MAAM,QAAQ,IAAI;QACtC,MAAM,SAAS,IAAA,0KAAG,EAAC,uHAAE,EAAE,YAAY;QAEnC,0CAA0C;QAC1C,MAAM,IAAA,6KAAM,EAAC,QAAQ,aAAa;YAAE,OAAO;QAAK;QAEhD,yDAAyD;QACzD,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,UAAU;QAAY;IAEpE,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,uCAAuC;QACrD,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,OAAO;YACP,SAAS,AAAC,MAAc,OAAO;QACnC,GAAG;YAAE,QAAQ;QAAI;IACrB;AACJ"}}]
}