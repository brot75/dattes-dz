(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25652,e=>{"use strict";let s=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],25652)},86536,e=>{"use strict";let s=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536)},23261,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(4421),r=e.i(25652),l=e.i(86536),i=e.i(17923),d=e.i(22016);function n(){let[e,n]=(0,t.useState)(!0),{orders:o,users:c,totalVisits:x,settings:m,updateSettings:g,inventory:u}=(0,a.useStore)(),h=async e=>{let s=e.target.files?.[0];if(!s)return;let t=new FileReader;t.onload=e=>{let s=new Image;s.onload=()=>{let e=document.createElement("canvas"),t=s.width,a=s.height;t>1200&&(a*=1200/t,t=1200),e.width=t,e.height=a;let r=e.getContext("2d");r?.drawImage(s,0,0,t,a),g({heroImage:e.toDataURL("image/jpeg",.8)}),alert("Image mise à jour avec succès ! (Mode Base64)")},s.src=e.target?.result},t.readAsDataURL(s)};if((0,t.useEffect)(()=>{let e=setTimeout(()=>{let e=a.useStore.getState().currentUser;e&&("admin"===e.role||"admin@dattes.dz"===e.email)?n(!1):window.location.href="/login"},800);return()=>clearTimeout(e)},[]),e)return(0,s.jsx)("div",{className:"flex h-screen items-center justify-center bg-dattes-bg",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-dattes-primary"})});let p=o.reduce((e,s)=>e+s.total,0);return(0,s.jsxs)("div",{className:"space-y-8 pb-20",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Tableau de Bord"}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)("div",{className:"bg-white px-4 py-2 rounded-xl shadow-sm border border-gray-100 flex items-center gap-2",children:[(0,s.jsx)(l.Eye,{className:"w-4 h-4 text-gray-400"}),(0,s.jsxs)("span",{className:"text-sm font-bold text-gray-800",children:[x," ",(0,s.jsx)("span",{className:"text-gray-400 font-normal",children:"Visites"})]})]})})]}),(0,s.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 flex items-start gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg text-yellow-600",children:(0,s.jsx)(r.TrendingUp,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-bold text-yellow-800",children:"Mode Démonstration (Vercel)"}),(0,s.jsxs)("p",{className:"text-sm text-yellow-700 mt-1",children:['Vous êtes sur un serveur "Read-Only". Les modifications (images, prix) ne sont ',(0,s.jsx)("strong",{children:"pas sauvegardées définitivement"}),". Si vous rechargez la page, les valeurs par défaut reviendront.",(0,s.jsx)("br",{}),"Pour activer la sauvegarde permanente, une base de données est requise."]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 p-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8 border-b border-gray-100 pb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-purple-50 rounded-xl",children:(0,s.jsx)(i.BarChart3,{className:"w-6 h-6 text-purple-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Analytiques En Direct"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Performances globales de votre boutique."})]})]}),(0,s.jsxs)(d.default,{href:"/admin/analytics",className:"flex items-center gap-2 px-5 py-2.5 bg-gray-50 hover:bg-dattes-primary hover:text-white text-gray-600 rounded-2xl text-sm font-bold transition-all shadow-sm border border-gray-100",children:["Explorer en détail ",(0,s.jsx)(r.TrendingUp,{className:"w-4 h-4"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,s.jsxs)("div",{className:"group relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-purple-50 rounded-3xl scale-95 opacity-0 group-hover:opacity-100 group-hover:scale-105 transition-all duration-300"}),(0,s.jsxs)("div",{className:"relative p-2",children:[(0,s.jsx)("div",{className:"text-xs font-bold text-gray-400 uppercase mb-2 tracking-widest pl-1",children:"Utilisateurs"}),(0,s.jsx)("div",{className:"text-4xl font-bold text-gray-800",children:c.length}),(0,s.jsx)("div",{className:"mt-3 text-[10px] font-bold text-purple-500 bg-purple-50 w-fit px-2 py-1 rounded-lg",children:"+12% ce mois"})]})]}),(0,s.jsxs)("div",{className:"group relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-orange-50 rounded-3xl scale-95 opacity-0 group-hover:opacity-100 group-hover:scale-105 transition-all duration-300"}),(0,s.jsxs)("div",{className:"relative p-2",children:[(0,s.jsx)("div",{className:"text-xs font-bold text-gray-400 uppercase mb-2 tracking-widest pl-1",children:"Valeur Stock"}),(0,s.jsxs)("div",{className:"text-4xl font-bold text-gray-800",children:[u.reduce((e,s)=>e+s.pricePerKg*s.stockKg,0).toLocaleString()," ",(0,s.jsx)("span",{className:"text-xl",children:"DA"})]}),(0,s.jsx)("div",{className:"mt-3 text-[10px] font-bold text-orange-500 bg-orange-50 w-fit px-2 py-1 rounded-lg",children:"Stable"})]})]}),(0,s.jsxs)("div",{className:"group relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-indigo-50 rounded-3xl scale-95 opacity-0 group-hover:opacity-100 group-hover:scale-105 transition-all duration-300"}),(0,s.jsxs)("div",{className:"relative p-2",children:[(0,s.jsx)("div",{className:"text-xs font-bold text-gray-400 uppercase mb-2 tracking-widest pl-1",children:"Visiteurs"}),(0,s.jsx)("div",{className:"text-4xl font-bold text-gray-800",children:x}),(0,s.jsx)("div",{className:"mt-3 text-[10px] font-bold text-indigo-500 bg-indigo-50 w-fit px-2 py-1 rounded-lg",children:"En direct"})]})]}),(0,s.jsxs)("div",{className:"group relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-blue-50 rounded-3xl scale-95 opacity-0 group-hover:opacity-100 group-hover:scale-105 transition-all duration-300"}),(0,s.jsxs)("div",{className:"relative p-2",children:[(0,s.jsx)("div",{className:"text-xs font-bold text-gray-400 uppercase mb-2 tracking-widest pl-1",children:"Sources Trafic"}),(0,s.jsxs)("div",{className:"space-y-1",children:[["instagram","facebook","whatsapp","direct"].map(e=>{let t=o.filter(s=>(s.source||"direct")===e).length;return 0===t?null:(0,s.jsxs)("div",{className:"flex justify-between text-xs font-bold",children:[(0,s.jsx)("span",{className:"capitalize text-gray-500",children:e}),(0,s.jsx)("span",{className:"text-dattes-primary",children:t})]},e)}),0===o.length&&(0,s.jsx)("div",{className:"text-xs text-gray-400 italic",children:"Aucune donnée"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-100 pb-4",children:[(0,s.jsx)(r.TrendingUp,{className:"w-5 h-5 text-dattes-accent"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-dattes-primary",children:"Personnalisation"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-6",children:[(0,s.jsxs)("div",{className:"w-48 h-32 bg-gray-100 rounded-xl overflow-hidden relative shadow-md group border border-gray-200",children:[(0,s.jsx)("img",{src:m?.heroImage||"/hero-dates-v2.png",alt:"Hero",className:"w-full h-full object-cover"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsx)("span",{className:"text-white text-xs font-bold",children:"Changer Image"})}),(0,s.jsx)("input",{type:"file",onChange:h,className:"absolute inset-0 opacity-0 cursor-pointer",accept:"image/*"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-dattes-primary mb-1",children:"Image d'accueil"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Image principale affichée sur la page d'accueil."}),(0,s.jsxs)("div",{className:"relative inline-block",children:[(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:h,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 transition-all cursor-pointer"}),(0,s.jsx)("button",{onClick:()=>g({heroImage:"/hero-dates-v2.png"}),className:"text-xs text-gray-400 underline hover:text-red-500 mt-2",children:"Restaurer l'image par défaut"})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-bold text-gray-500 mb-1",children:"Total Ventes"}),(0,s.jsxs)("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:[p.toLocaleString()," DA"]}),(0,s.jsxs)("div",{className:"text-xs font-medium text-gray-400 px-2 py-1 bg-gray-50 rounded-full inline-block",children:[o.length," commandes"]})]}),(0,s.jsx)("div",{className:"p-4 rounded-xl bg-green-50 text-green-600",children:(0,s.jsx)("img",{src:"/images/icons/coin.png",alt:"Sales",className:"w-10 h-10 object-contain"})})]}),(0,s.jsxs)(d.default,{href:"/admin/orders?status=pending",className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex justify-between items-center hover:border-dattes-accent transition-colors group",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-bold text-gray-500 mb-1",children:"Commandes Actives"}),(0,s.jsx)("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:o.filter(e=>"pending"===e.status).length}),(0,s.jsx)("div",{className:"text-xs font-medium text-gray-400 px-2 py-1 bg-gray-50 rounded-full inline-block",children:"En attente"})]}),(0,s.jsx)("div",{className:"p-4 rounded-xl bg-blue-50 text-blue-600 group-hover:scale-110 transition-transform",children:(0,s.jsx)("img",{src:"/images/notification.png",alt:"Orders",className:"w-10 h-10 object-contain"})})]}),(0,s.jsxs)(d.default,{href:"/admin/products",className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex justify-between items-center hover:border-red-500 transition-colors group",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-bold text-gray-500 mb-1",children:"Alertes Stock"}),(0,s.jsx)("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:a.useStore.getState().inventory.filter(e=>e.stockKg<50).length}),(0,s.jsx)("div",{className:"text-xs font-medium text-gray-400 px-2 py-1 bg-gray-50 rounded-full inline-block",children:"Stock faible"})]}),(0,s.jsx)("div",{className:"p-4 rounded-xl bg-red-50 text-red-600 group-hover:scale-110 transition-transform",children:(0,s.jsx)("img",{src:"/images/alert.png",alt:"Stock",className:"w-10 h-10 object-contain"})})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-6 border-b border-gray-100 pb-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.TrendingUp,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-dattes-primary",children:"Tarifs de Livraison (DA)"})]})}),(0,s.jsx)("div",{className:"overflow-x-auto border border-gray-50 rounded-xl",children:(0,s.jsxs)("table",{className:"w-full text-left",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-3 text-xs font-bold text-gray-400 uppercase",children:"Wilaya"}),(0,s.jsx)("th",{className:"p-3 text-xs font-bold text-gray-400 uppercase",children:"Domicile (DA)"}),(0,s.jsx)("th",{className:"p-3 text-xs font-bold text-gray-400 uppercase",children:"Bureau (DA)"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-50",children:Object.entries(m?.deliveryFees||{}).map(([e,t])=>{let a="object"==typeof t?t.home:t,r="object"==typeof t?t.bureau:t-200>0?t-200:0;return(0,s.jsxs)("tr",{className:"group hover:bg-gray-50/50 transition-colors",children:[(0,s.jsx)("td",{className:"p-3 text-sm font-bold text-gray-800",children:e}),(0,s.jsx)("td",{className:"p-3",children:(0,s.jsx)("input",{type:"number",name:`fee-home-${e}`,className:"w-24 p-2 bg-white border border-gray-200 rounded-lg text-xs font-bold focus:border-dattes-accent outline-none",value:a,onChange:s=>{let t=Number(s.target.value),a="object"==typeof m.deliveryFees[e]?m.deliveryFees[e]:{home:t,bureau:t-200};g({deliveryFees:{...m.deliveryFees,[e]:{...a,home:t}}})}})}),(0,s.jsx)("td",{className:"p-3",children:(0,s.jsx)("input",{type:"number",name:`fee-bureau-${e}`,id:`fee-bureau-${e}`,className:"w-24 p-2 bg-white border border-gray-200 rounded-lg text-xs font-bold focus:border-dattes-accent outline-none",value:r,onChange:s=>{let t=Number(s.target.value),r="object"==typeof m.deliveryFees[e]?m.deliveryFees[e]:{home:a,bureau:t};g({deliveryFees:{...m.deliveryFees,[e]:{...r,bureau:t}}})}})})]},e)})})]})}),(0,s.jsx)("p",{className:"mt-4 text-xs text-gray-400 italic",children:"Les modifications sont enregistrées automatiquement dans les paramètres du site."})]})]})}e.s(["default",()=>n])}]);