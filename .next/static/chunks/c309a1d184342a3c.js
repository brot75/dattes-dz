(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},76664,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(4421),a=e.i(55436),l=e.i(86536),d=e.i(37727);let n=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function i(){let{orders:e,updateOrderStatus:i,updateOrderReturn:c}=(0,r.useStore)(),[o,x]=(0,s.useState)(null),[m,h]=(0,s.useState)(!1),[p,g]=(0,s.useState)("Qualité"),u=e=>{switch(e){case"completed":return"text-green-600 bg-green-100 border-green-200";case"shipped":return"text-blue-600 bg-blue-100 border-blue-200";case"cancelled":return"text-red-600 bg-red-100 border-red-200";case"returned":return"text-orange-600 bg-orange-100 border-orange-200";default:return"text-yellow-700 bg-yellow-100 border-yellow-200"}},b=e=>{switch(e){case"completed":return"Terminée";case"shipped":return"En livraison";case"cancelled":return"Annulée";case"returned":return"Retournée";default:return"En attente"}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-dattes-primary",children:"Gestion des Commandes"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Voir et gérer les commandes clients"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(a.Search,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),(0,t.jsx)("input",{className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-dattes-accent",placeholder:"Rechercher..."})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-gray-50/50 text-xs uppercase text-gray-400 font-extrabold tracking-wider border-b border-gray-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4",children:"Réf"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Client"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Articles"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Total"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Statut"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-100",children:e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("td",{className:"px-6 py-4 font-mono text-xs text-gray-500",children:["#",e.id.slice(0,8)]}),(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"font-bold text-dattes-primary",children:e.customer.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[e.customer.phone," - ",e.customer.wilaya]})]}),(0,t.jsxs)("td",{className:"px-6 py-4 text-sm",children:[e.items.slice(0,2).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsxs)("span",{className:"font-bold text-gray-600",children:[e.quantityKg,"kg"]}),(0,t.jsx)("span",{children:e.type||e.name})]},s)),e.items.length>2&&(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:["+",e.items.length-2," autres"]})]}),(0,t.jsxs)("td",{className:"px-6 py-4 font-bold text-dattes-primary",children:[e.total," DA"]}),(0,t.jsx)("td",{className:"px-6 py-4 text-xs text-gray-400",children:new Date(e.date).toLocaleDateString("fr-FR")}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${u(e.status)}`,children:b(e.status)})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsx)("button",{onClick:()=>x(e),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-400 hover:text-dattes-primary transition-colors",title:"Voir détails",children:(0,t.jsx)(l.Eye,{className:"w-5 h-5"})})})]},e.id))})]})}),o&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-in fade-in zoom-in duration-200",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-dattes-primary",children:["Commande #",o.id.slice(0,8)]}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${u(o.status)}`,children:b(o.status)})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:new Date(o.date).toLocaleString("fr-FR")})]}),(0,t.jsx)("button",{onClick:()=>x(null),className:"p-2 hover:bg-gray-100 rounded-full",children:(0,t.jsx)(d.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-8",children:["returned"===o.status&&(0,t.jsxs)("div",{className:"bg-orange-50 border border-orange-100 p-4 rounded-xl flex items-start gap-3",children:[(0,t.jsx)(n,{className:"w-5 h-5 text-orange-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-orange-800",children:"Commande Retournée"}),(0,t.jsxs)("p",{className:"text-sm text-orange-600 mt-1",children:["Motif: ",(0,t.jsx)("span",{className:"font-bold",children:o.returnReason||"Non spécifié"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6 bg-gray-50 p-6 rounded-xl border border-gray-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Client"}),(0,t.jsx)("div",{className:"font-bold text-gray-800",children:o.customer.name}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:o.customer.phone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Livraison"}),(0,t.jsx)("div",{className:"font-bold text-gray-800",children:o.customer.wilaya}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:o.customer.commune})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-bold text-dattes-primary mb-4 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-1 h-6 bg-dattes-accent rounded-full"}),"Articles Commandés"]}),(0,t.jsx)("div",{className:"border border-gray-100 rounded-xl overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{className:"bg-gray-50 text-xs font-bold text-gray-400 uppercase",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left",children:"Produit"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center",children:"Qté"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right",children:"Prix"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right",children:"Total"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-100",children:o.items.map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{className:"px-4 py-3",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.quality})]}),(0,t.jsxs)("td",{className:"px-4 py-3 text-center font-bold",children:[e.quantityKg," kg"]}),(0,t.jsxs)("td",{className:"px-4 py-3 text-right text-gray-500",children:[e.pricePerKg," DA"]}),(0,t.jsxs)("td",{className:"px-4 py-3 text-right font-bold",children:[e.pricePerKg*e.quantityKg," DA"]})]},s))}),(0,t.jsx)("tfoot",{className:"bg-gray-50 font-bold",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{colSpan:3,className:"px-4 py-3 text-right text-gray-600",children:"Total Commande"}),(0,t.jsxs)("td",{className:"px-4 py-3 text-right text-dattes-primary text-lg",children:[o.total," DA"]})]})})]})})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>x(null),className:"px-4 py-2 font-bold text-gray-500 hover:bg-gray-200 rounded-lg transition-colors",children:"Fermer"}),"returned"!==o.status&&"cancelled"!==o.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>h(!0),className:"px-4 py-2 font-bold text-orange-600 bg-orange-100 hover:bg-orange-200 border border-orange-200 rounded-lg transition-colors",children:"Signaler Retour"}),"pending"===o.status&&(0,t.jsx)("button",{onClick:()=>{let e="shipped";i(o.id,e),x({...o,status:e})},className:"px-6 py-2 font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors shadow-lg shadow-blue-600/20",children:"En Livraison"}),"shipped"===o.status&&(0,t.jsx)("button",{onClick:()=>{let e="completed";i(o.id,e),x({...o,status:e})},className:"px-6 py-2 font-bold text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors shadow-lg shadow-green-600/20",children:"Marquer Terminée"})]})]})]})}),m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6 animate-in slide-in-from-bottom-4 fade-in duration-300",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Motif du Retour"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Pourquoi cette commande est-elle retournée ?"}),(0,t.jsx)("div",{className:"space-y-2",children:["Qualité","Erreur Poids","Annulation Client","Autre"].map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 border border-transparent hover:border-gray-200 transition-all",children:[(0,t.jsx)("input",{type:"radio",name:"returnReason",value:e,checked:p===e,onChange:e=>g(e.target.value),className:"w-4 h-4 text-dattes-primary focus:ring-dattes-primary"}),(0,t.jsx)("span",{className:"font-bold text-sm text-gray-700",children:e})]},e))}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>h(!1),className:"flex-1 py-2 font-bold text-gray-500 hover:bg-gray-100 rounded-lg",children:"Annuler"}),(0,t.jsx)("button",{onClick:()=>{o&&(c(o.id,p),x({...o,status:"returned",returnReason:p}),h(!1))},className:"flex-1 py-2 font-bold text-white bg-orange-500 hover:bg-orange-600 rounded-lg shadow-lg shadow-orange-500/20",children:"Confirmer"})]})]})})]})}e.s(["default",()=>i],76664)}]);