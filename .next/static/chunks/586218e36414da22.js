(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50965,e=>{"use strict";let t=(0,e.i(75254).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);e.s(["ShoppingBag",()=>t],50965)},33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={assign:function(){return l},searchParamsToUrlQuery:function(){return o},urlQueryToSearchParams:function(){return s}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});function o(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function s(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,i(e));else t.set(r,i(n));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,n]of r.entries())e.append(t,n)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={formatUrl:function(){return s},formatWithValidation:function(){return u},urlObjectKeys:function(){return l}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let o=e.r(90809)._(e.r(98183)),i=/https?|ftp|gopher|file/;function s(e){let{auth:t,hostname:r}=e,n=e.protocol||"",a=e.pathname||"",s=e.hash||"",l=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:r&&(u=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(o.urlQueryToSearchParams(l)));let c=e.search||l&&`?${l}`||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||i.test(n))&&!1!==u?(u="//"+(u||""),a&&"/"!==a[0]&&(a="/"+a)):u||(u=""),s&&"#"!==s[0]&&(s="#"+s),c&&"?"!==c[0]&&(c="?"+c),a=a.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${n}${u}${a}${c}${s}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function u(e){return s(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let n=e.r(71645);function a(e,t){let r=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=o(e,n)),t&&(a.current=o(t,n))},[e,t])}function o(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return v},NormalizeError:function(){return x},PageNotFoundError:function(){return b},SP:function(){return m},ST:function(){return y},WEB_VITALS:function(){return o},execOnce:function(){return i},getDisplayName:function(){return d},getLocationOrigin:function(){return u},getURL:function(){return c},isAbsoluteUrl:function(){return l},isResSent:function(){return f},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return p},stringifyError:function(){return w}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let o=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...n)=>(r||(r=!0,t=e(...n)),t)}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>s.test(e);function u(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function c(){let{href:e}=window.location,t=u();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function p(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function h(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await h(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&f(r))return n;if(!n)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let m="u">typeof performance,y=m&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class x extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class v extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return o}});let n=e.r(18967),a=e.r(52817);function o(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,a.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return g},useLinkStatus:function(){return b}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let o=e.r(90809),i=e.r(43476),s=o._(e.r(71645)),l=e.r(95057),u=e.r(8372),c=e.r(18581),d=e.r(18967),f=e.r(5550);e.r(33525);let p=e.r(91949),h=e.r(73668),m=e.r(9396);function y(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function g(t){var r;let n,a,o,[l,g]=(0,s.useOptimistic)(p.IDLE_LINK_STATUS),b=(0,s.useRef)(null),{href:v,as:j,children:w,prefetch:k=null,passHref:N,replace:P,shallow:O,scroll:_,onClick:M,onMouseEnter:S,onTouchStart:C,legacyBehavior:E=!1,onNavigate:T,ref:R,unstable_dynamicOnHover:A,...L}=t;n=w,E&&("string"==typeof n||"number"==typeof n)&&(n=(0,i.jsx)("a",{children:n}));let $=s.default.useContext(u.AppRouterContext),U=!1!==k,I=!1!==k?null===(r=k)||"auto"===r?m.FetchStrategy.PPR:m.FetchStrategy.Full:m.FetchStrategy.PPR,{href:B,as:F}=s.default.useMemo(()=>{let e=y(v);return{href:e,as:j?y(j):e}},[v,j]);if(E){if(n?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});a=s.default.Children.only(n)}let z=E?a&&"object"==typeof a&&a.ref:R,D=s.default.useCallback(e=>(null!==$&&(b.current=(0,p.mountLinkInstance)(e,B,$,I,U,g)),()=>{b.current&&((0,p.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,p.unmountPrefetchableInstance)(e)}),[U,B,$,I,g]),V={ref:(0,c.useMergedRef)(D,z),onClick(t){E||"function"!=typeof M||M(t),E&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(t),!$||t.defaultPrevented||function(t,r,n,a,o,i,l){if("u">typeof window){let u,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((u=t.currentTarget.getAttribute("target"))&&"_self"!==u||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,h.isLocalURL)(r)){o&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(99781);s.default.startTransition(()=>{d(n||r,o?"replace":"push",i??!0,a.current)})}}(t,B,F,b,P,_,T)},onMouseEnter(e){E||"function"!=typeof S||S(e),E&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),$&&U&&(0,p.onNavigationIntent)(e.currentTarget,!0===A)},onTouchStart:function(e){E||"function"!=typeof C||C(e),E&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),$&&U&&(0,p.onNavigationIntent)(e.currentTarget,!0===A)}};return(0,d.isAbsoluteUrl)(F)?V.href=F:E&&!N&&("a"!==a.type||"href"in a.props)||(V.href=(0,f.addBasePath)(F)),o=E?s.default.cloneElement(a,V):(0,i.jsx)("a",{...L,...V,children:n}),(0,i.jsx)(x.Provider,{value:l,children:o})}e.r(84508);let x=(0,s.createContext)(p.IDLE_LINK_STATUS),b=()=>(0,s.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18566,(e,t,r)=>{t.exports=e.r(76562)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},17923,e=>{"use strict";let t=(0,e.i(75254).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);e.s(["BarChart3",()=>t],17923)},61911,e=>{"use strict";let t=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>t],61911)},88844,92270,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>r],88844);let n=(0,t.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);e.s(["LogOut",()=>n],92270)},8374,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(22016),a=e.i(18566),o=e.i(75254);let i=(0,o.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var s=e.i(17923),l=e.i(50965),u=e.i(88844),c=e.i(61911),d=e.i(92270);let f=(0,o.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var p=e.i(37727);let h=(0,o.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var m=e.i(4421);let y=[{title:"Tableau de bord",icon:i,href:"/admin"},{title:"Analytiques",icon:s.BarChart3,href:"/admin/analytics"},{title:"Commandes",icon:l.ShoppingBag,href:"/admin/orders"},{title:"Produits",icon:u.Package,href:"/admin/products"},{title:"Utilisateurs",icon:c.Users,href:"/admin/users"}];function g({children:e}){let o=(0,a.usePathname)(),[i,s]=(0,r.useState)(!0),{logout:l,currentUser:u,_hasHydrated:c}=(0,m.useStore)();return c?u&&"admin"===u.role?(0,t.jsxs)("div",{className:"min-h-screen bg-[#FDFCFB] flex",children:[(0,t.jsxs)("aside",{className:`
                    ${i?"w-64":"w-20"} 
                    bg-white border-r border-gray-100 
                    transition-all duration-300 
                    flex flex-col 
                    fixed lg:sticky top-0 h-screen z-50
                `,children:[(0,t.jsxs)("div",{className:"p-6 flex items-center justify-between",children:[(0,t.jsx)("div",{className:`flex items-center gap-2 font-display font-bold text-dattes-primary transition-opacity ${i?"opacity-100":"opacity-0 w-0 overflow-hidden"}`,children:(0,t.jsx)("img",{src:"/logo-new.png",alt:"Admin",className:"h-8 w-auto object-contain"})}),(0,t.jsx)("button",{onClick:()=>s(!i),className:"p-2 hover:bg-gray-50 rounded-lg transition-colors",children:i?(0,t.jsx)(p.X,{className:"w-5 h-5 text-gray-400"}):(0,t.jsx)(f,{className:"w-5 h-5 text-gray-400"})})]}),(0,t.jsx)("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:y.map(e=>{let r=o===e.href,a="/admin/orders"===e.href&&m.useStore.getState().orders?.filter(e=>"pending"===e.status).length||0;return(0,t.jsxs)(n.default,{href:e.href,className:`
                                    flex items-center gap-3 px-4 py-3 rounded-xl transition-all group
                                    ${r?"bg-dattes-primary text-white shadow-lg shadow-dattes-primary/20":"text-gray-500 hover:bg-gray-50"}
                                `,children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(e.icon,{className:`w-5 h-5 flex-shrink-0 transition-transform group-hover:scale-110 ${r?"text-white":"text-gray-400"}`})}),i&&(0,t.jsxs)("div",{className:"flex flex-1 items-center justify-between min-w-0",children:[(0,t.jsx)("span",{className:"font-bold text-sm tracking-wide whitespace-nowrap overflow-hidden text-ellipsis",children:e.title}),a>0&&(0,t.jsx)("span",{className:"bg-red-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow-sm ml-2 animate-pulse",children:a})]}),r&&i&&(0,t.jsx)(h,{className:"w-4 h-4 ml-auto opacity-50 flex-shrink-0"})]},e.href)})}),(0,t.jsxs)("div",{className:"p-4 mt-auto border-t border-gray-50 space-y-2 bg-white",children:[(0,t.jsxs)("button",{onClick:l,className:"flex items-center gap-3 w-full px-4 py-3 rounded-xl text-red-500 hover:bg-red-50 transition-all font-bold text-sm",children:[(0,t.jsx)(d.LogOut,{className:"w-5 h-5 flex-shrink-0"}),i&&(0,t.jsx)("span",{children:"Déconnexion"})]}),i&&u&&(0,t.jsxs)("div",{className:"p-3 bg-gray-50 rounded-xl flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-dattes-accent/20 flex items-center justify-center text-dattes-primary font-bold text-xs",children:u.name?.[0]||"A"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-gray-800 truncate",children:u.name}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400 truncate",children:u.email})]})]})]})]}),(0,t.jsx)("main",{className:`
                flex-1 
                transition-all duration-300
                lg:ml-0 
                ${i?"ml-64":"ml-20"} 
                /* Mobile: Sidebar is fixed, so main needs padding. 
                   But wait, isSidebarOpen logic above toggles width. 
                   If fixed, main content stays under. 
                   We need to push main content on desktop, and maybe overlay on mobile? */
                   lg:ml-0 /* Reset for flex behavior */
            `,children:(0,t.jsx)("div",{className:"p-4 md:p-8 max-w-7xl mx-auto w-full",children:e})}),i&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/20 z-40 lg:hidden",onClick:()=>s(!1)})]}):(0,t.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 text-center p-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-dattes-primary mb-4",children:"Accès Refusé"}),(0,t.jsx)("p",{className:"text-gray-500 mb-6",children:"Vous devez être administrateur pour accéder à cette page."}),(0,t.jsx)(n.default,{href:"/login",className:"bg-dattes-primary text-white px-6 py-2 rounded-xl font-bold hover:bg-dattes-accent transition-colors",children:"Se Connecter"})]}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center text-dattes-primary font-bold",children:"Chargement..."})}e.s(["default",()=>g],8374)}]);