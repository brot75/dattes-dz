module.exports=[15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},64278,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68515),e=a.i(15618);let f=(0,a.i(70106).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var g=a.i(33508);function h(){let{inventory:a,updateInventory:h}=(0,d.useStore)(),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)("fr"),[o,p]=(0,c.useState)({type:"Deglet Nour",quality:"Premium",pricePerKg:1e3,stockKg:100,origin:"Biskra",description:"",unit:"kg",packaging:"standard",images:["/products/deglet-nour.png"]});return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-dattes-primary",children:"Gestion des Produits"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"GÃ©rer l'inventaire et les prix"})]}),(0,b.jsxs)("button",{onClick:()=>{l(null),p({type:"Deglet Nour",quality:"Premium",pricePerKg:1e3,stockKg:100,origin:"Biskra",description:"",unit:"kg",packaging:"standard",images:["/products/deglet-nour.png"]}),j(!0)},className:"flex items-center gap-2 px-4 py-2 bg-dattes-primary text-white rounded-lg text-sm font-bold hover:bg-gray-800 transition-colors shadow-lg shadow-dattes-primary/20",children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4"})," Ajouter Produit"]})]}),(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-gray-50/50 text-xs uppercase text-gray-400 font-extrabold tracking-wider border-b border-gray-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4",children:"Produit"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Origine"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Prix (DA/Kg)"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Stock (Kg)"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"DÃ©tails"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100",children:a.map(c=>(0,b.jsxs)("tr",{className:`group hover:bg-gray-50 transition-colors ${c.stockKg<50?"bg-red-50/30":""}`,children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gray-100 overflow-hidden flex-shrink-0 border border-gray-200",children:(0,b.jsx)("img",{src:c.images[0],alt:c.type,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold text-dattes-primary",children:c.type}),(0,b.jsx)("div",{className:"text-xs text-dattes-accent font-bold px-2 py-0.5 bg-dattes-accent/10 rounded-full w-fit mt-1",children:c.quality})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-bold text-gray-600",children:c.origin||"-"}),(0,b.jsx)("td",{className:"px-6 py-4 font-bold text-dattes-primary",children:c.pricePerKg}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`font-bold ${c.stockKg<50?"text-red-500":"text-gray-700"}`,children:c.stockKg})}),(0,b.jsx)("td",{className:"px-6 py-4 text-xs text-gray-500 max-w-xs truncate",children:c.description}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>{p(c),l(c.id),j(!0)},className:"p-2 hover:bg-blue-50 rounded-lg text-blue-500 hover:text-blue-700 transition-colors",title:"Modifier",children:(0,b.jsx)(f,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>{var b;return b=c.id,void(confirm("ÃŠtes-vous sÃ»r de vouloir supprimer ce produit ?")&&h(a.filter(a=>a.id!==b)))},className:"p-2 hover:bg-red-50 rounded-lg text-red-400 hover:text-red-600 transition-colors",title:"Supprimer",children:(0,b.jsx)(g.X,{className:"w-5 h-5"})})]})})]},c.id))})]})})}),i&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl p-8 animate-in fade-in zoom-in duration-200 max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-dattes-primary",children:k?"Modifier Produit":"Ajouter Produit"}),(0,b.jsx)("button",{onClick:()=>j(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:(0,b.jsx)(g.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault();let c=[...a];k?c=c.map(a=>a.id===k?{...a,...o}:a):c.push({...o,id:crypto.randomUUID(),images:o.images||["/products/deglet-nour.png"]}),h(c),j(!1),l(null),p({type:"Deglet Nour",quality:"Premium",pricePerKg:1e3,stockKg:100,origin:"Biskra",description:"",unit:"kg",packaging:"standard",images:["/products/deglet-nour.png"]})},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex bg-gray-100 p-1 rounded-xl w-fit",children:[(0,b.jsx)("button",{type:"button",onClick:()=>n("fr"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${"fr"===m?"bg-white shadow text-dattes-primary":"text-gray-400 hover:text-gray-600"}`,children:"FranÃ§ais"}),(0,b.jsx)("button",{type:"button",onClick:()=>n("ar"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${"ar"===m?"bg-white shadow text-dattes-primary":"text-gray-400 hover:text-gray-600"}`,children:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Image"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[o.images&&o.images[0]&&(0,b.jsx)("img",{src:o.images[0],alt:"Preview",className:"w-16 h-16 object-cover rounded-lg border border-gray-200"}),(0,b.jsx)("input",{type:"file",accept:"image/*",className:"w-full p-2 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-dattes-accent text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-dattes-primary file:text-white hover:file:bg-dattes-accent transition-all",onChange:a=>{let b=a.target.files?.[0];if(b){let a=new FileReader;a.onload=a=>{let b=new Image;b.onload=()=>{let a=document.createElement("canvas"),c=b.width,d=b.height;c>1200&&(d*=1200/c,c=1200),a.width=c,a.height=d;let e=a.getContext("2d");e?.drawImage(b,0,0,c,d);let f=a.toDataURL("image/jpeg",.8);p({...o,images:[f]})},b.src=a.target?.result},a.readAsDataURL(b)}}})]}),(0,b.jsx)("input",{type:"text",placeholder:"Ou URL directe (ex: /img.png)",className:"mt-2 w-full p-2 text-xs bg-gray-50 rounded-lg border border-gray-200",value:o.images?.[0]||"",onChange:a=>p({...o,images:[a.target.value]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:["Type (VariÃ©tÃ©) ","ar"===m?"(Arabe)":""]}),(0,b.jsx)("input",{required:"fr"===m,className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-dattes-accent",value:"fr"===m?o.type:o.typeAr||"",onChange:a=>"fr"===m?p({...o,type:a.target.value}):p({...o,typeAr:a.target.value}),placeholder:"fr"===m?"ex: Deglet Nour":"Ù…Ø«Ø§Ù„: Ø¯Ù‚Ù„Ø© Ù†ÙˆØ±",dir:"ar"===m?"rtl":"ltr"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:["QualitÃ© ","ar"===m?"(Arabe)":""]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("input",{className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-dattes-accent",value:"fr"===m?o.quality:o.qualityAr||"",onChange:a=>"fr"===m?p({...o,quality:a.target.value}):p({...o,qualityAr:a.target.value}),placeholder:"fr"===m?"ex: Premium":"Ù…Ø«Ø§Ù„: Ù…Ù…ØªØ§Ø²",dir:"ar"===m?"rtl":"ltr"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:("fr"===m?["Premium","Standard","Ravier","Vrac"]:["Ù…Ù…ØªØ§Ø²","Ø¹Ø§Ø¯ÙŠ","Ø¹Ù„ÙŠÙˆÙ†","ÙØ±Ø§ÙƒØ©"]).map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>"fr"===m?p({...o,quality:a}):p({...o,qualityAr:a}),className:"px-3 py-1 text-xs font-bold bg-dattes-primary/5 text-dattes-primary rounded-full hover:bg-dattes-primary hover:text-white transition-colors",children:a},a))})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Prix (DA/Kg)"}),(0,b.jsx)("input",{type:"number",required:!0,className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-dattes-accent",value:o.pricePerKg,onChange:a=>p({...o,pricePerKg:Number(a.target.value)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:["Stock (",o.unit||"Kg",")"]}),(0,b.jsx)("input",{type:"number",value:o.stockKg,onChange:a=>p({...o,stockKg:Number(a.target.value)}),className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-dattes-accent font-bold"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:["Origine ","ar"===m?"(Arabe)":""]}),(0,b.jsx)("input",{className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-dattes-accent",value:"fr"===m?o.origin:o.originAr||"",onChange:a=>"fr"===m?p({...o,origin:a.target.value}):p({...o,originAr:a.target.value}),placeholder:"fr"===m?"ex: Tolga":"Ù…Ø«Ø§Ù„: Ø·ÙˆÙ„Ù‚Ø©",dir:"ar"===m?"rtl":"ltr"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"UnitÃ©"}),(0,b.jsxs)("select",{value:o.unit||"kg",onChange:a=>p({...o,unit:a.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-dattes-accent font-bold",children:[(0,b.jsx)("option",{value:"kg",children:"Kg"}),(0,b.jsx)("option",{value:"liter",children:"Litre"}),(0,b.jsx)("option",{value:"piece",children:"PiÃ¨ce"}),(0,b.jsx)("option",{value:"box",children:"BoÃ®te"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Conditionnement"}),(0,b.jsxs)("select",{value:o.packaging||"standard",onChange:a=>p({...o,packaging:a.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-dattes-accent font-bold",children:[(0,b.jsx)("option",{value:"standard",children:"Standard (Vrac)"}),(0,b.jsx)("option",{value:"arjoun",children:"Arjoun (RÃ©gime)"}),(0,b.jsx)("option",{value:"messier",children:"Messier (EmpilÃ©)"}),(0,b.jsx)("option",{value:"box",children:"Carton (BoÃ®te)"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:["Description Courte ","ar"===m?"(Arabe)":""]}),(0,b.jsx)("textarea",{className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-dattes-accent h-24",value:"fr"===m?o.description:o.descriptionAr||"",onChange:a=>"fr"===m?p({...o,description:a.target.value}):p({...o,descriptionAr:a.target.value}),dir:"ar"===m?"rtl":"ltr"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Image du Produit"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden border border-gray-200",children:(0,b.jsx)("img",{src:o.images?.[0]||"/products/deglet-nour.png",alt:"Preview",className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)("input",{type:"file",onChange:async a=>{let b=a.target.files?.[0];if(!b)return;let c=new FormData;c.append("file",b);try{let a=await fetch("/api/upload",{method:"POST",body:c});if(!a.ok)throw Error("Upload failed");let b=await a.json();p({...o,images:[b.url]})}catch(a){console.error("Error uploading image:",a),alert("Erreur lors de l'upload de l'image. Veuillez rÃ©essayer.")}},className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",accept:"image/*"}),(0,b.jsxs)("div",{className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-200 text-gray-400 text-sm font-bold flex items-center justify-between",children:[(0,b.jsx)("span",{children:"ðŸ“· Cliquer pour uploader une image"}),(0,b.jsx)(e.Plus,{className:"w-4 h-4"})]})]})]})]}),(0,b.jsx)("button",{type:"submit",className:"w-full bg-dattes-primary text-white font-bold py-4 rounded-xl shadow-lg hover:bg-black transition-colors",children:k?"Sauvegarder modifications":"CrÃ©er Produit"})]})]})})]})}a.s(["default",()=>h],64278)}];

//# sourceMappingURL=_9c7df0ff._.js.map