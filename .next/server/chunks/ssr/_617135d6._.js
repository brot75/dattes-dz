module.exports=[87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},73579,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68515),e=a.i(87532),f=a.i(77156),g=a.i(33508);let h=(0,a.i(70106).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function i(){let{orders:a,updateOrderStatus:i,updateOrderReturn:j}=(0,d.useStore)(),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)("Qualité"),q=a=>{switch(a){case"completed":return"text-green-600 bg-green-100 border-green-200";case"shipped":return"text-blue-600 bg-blue-100 border-blue-200";case"cancelled":return"text-red-600 bg-red-100 border-red-200";case"returned":return"text-orange-600 bg-orange-100 border-orange-200";default:return"text-yellow-700 bg-yellow-100 border-yellow-200"}},r=a=>{switch(a){case"completed":return"Terminée";case"shipped":return"En livraison";case"cancelled":return"Annulée";case"returned":return"Retournée";default:return"En attente"}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-dattes-primary",children:"Gestion des Commandes"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Voir et gérer les commandes clients"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(e.Search,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),(0,b.jsx)("input",{className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-dattes-accent",placeholder:"Rechercher..."})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-gray-50/50 text-xs uppercase text-gray-400 font-extrabold tracking-wider border-b border-gray-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4",children:"Réf"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Client"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Articles"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Total"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Statut"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100",children:a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsxs)("td",{className:"px-6 py-4 font-mono text-xs text-gray-500",children:["#",a.id.slice(0,8)]}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"font-bold text-dattes-primary",children:a.customer.name}),(0,b.jsxs)("div",{className:"text-xs text-gray-400",children:[a.customer.phone," - ",a.customer.wilaya]})]}),(0,b.jsxs)("td",{className:"px-6 py-4 text-sm",children:[a.items.slice(0,2).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsxs)("span",{className:"font-bold text-gray-600",children:[a.quantityKg,"kg"]}),(0,b.jsx)("span",{children:a.type||a.name})]},c)),a.items.length>2&&(0,b.jsxs)("span",{className:"text-xs text-gray-400",children:["+",a.items.length-2," autres"]})]}),(0,b.jsxs)("td",{className:"px-6 py-4 font-bold text-dattes-primary",children:[a.total," DA"]}),(0,b.jsx)("td",{className:"px-6 py-4 text-xs text-gray-400",children:new Date(a.date).toLocaleDateString("fr-FR")}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${q(a.status)}`,children:r(a.status)})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsx)("button",{onClick:()=>l(a),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-400 hover:text-dattes-primary transition-colors",title:"Voir détails",children:(0,b.jsx)(f.Eye,{className:"w-5 h-5"})})})]},a.id))})]})}),k&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-in fade-in zoom-in duration-200",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("h3",{className:"text-xl font-bold text-dattes-primary",children:["Commande #",k.id.slice(0,8)]}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${q(k.status)}`,children:r(k.status)})]}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:new Date(k.date).toLocaleString("fr-FR")})]}),(0,b.jsx)("button",{onClick:()=>l(null),className:"p-2 hover:bg-gray-100 rounded-full",children:(0,b.jsx)(g.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-8",children:["returned"===k.status&&(0,b.jsxs)("div",{className:"bg-orange-50 border border-orange-100 p-4 rounded-xl flex items-start gap-3",children:[(0,b.jsx)(h,{className:"w-5 h-5 text-orange-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold text-orange-800",children:"Commande Retournée"}),(0,b.jsxs)("p",{className:"text-sm text-orange-600 mt-1",children:["Motif: ",(0,b.jsx)("span",{className:"font-bold",children:k.returnReason||"Non spécifié"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6 bg-gray-50 p-6 rounded-xl border border-gray-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Client"}),(0,b.jsx)("div",{className:"font-bold text-gray-800",children:k.customer.name}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:k.customer.phone})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Livraison"}),(0,b.jsx)("div",{className:"font-bold text-gray-800",children:k.customer.wilaya}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:k.customer.commune})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"font-bold text-dattes-primary mb-4 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-1 h-6 bg-dattes-accent rounded-full"}),"Articles Commandés"]}),(0,b.jsx)("div",{className:"border border-gray-100 rounded-xl overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{className:"bg-gray-50 text-xs font-bold text-gray-400 uppercase",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left",children:"Produit"}),(0,b.jsx)("th",{className:"px-4 py-3 text-center",children:"Qté"}),(0,b.jsx)("th",{className:"px-4 py-3 text-right",children:"Prix"}),(0,b.jsx)("th",{className:"px-4 py-3 text-right",children:"Total"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100",children:k.items.map((a,c)=>(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{className:"px-4 py-3",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.name}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.quality})]}),(0,b.jsxs)("td",{className:"px-4 py-3 text-center font-bold",children:[a.quantityKg," kg"]}),(0,b.jsxs)("td",{className:"px-4 py-3 text-right text-gray-500",children:[a.pricePerKg," DA"]}),(0,b.jsxs)("td",{className:"px-4 py-3 text-right font-bold",children:[a.pricePerKg*a.quantityKg," DA"]})]},c))}),(0,b.jsx)("tfoot",{className:"bg-gray-50 font-bold",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{colSpan:3,className:"px-4 py-3 text-right text-gray-600",children:"Total Commande"}),(0,b.jsxs)("td",{className:"px-4 py-3 text-right text-dattes-primary text-lg",children:[k.total," DA"]})]})})]})})]})]}),(0,b.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>l(null),className:"px-4 py-2 font-bold text-gray-500 hover:bg-gray-200 rounded-lg transition-colors",children:"Fermer"}),"returned"!==k.status&&"cancelled"!==k.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>n(!0),className:"px-4 py-2 font-bold text-orange-600 bg-orange-100 hover:bg-orange-200 border border-orange-200 rounded-lg transition-colors",children:"Signaler Retour"}),"pending"===k.status&&(0,b.jsx)("button",{onClick:()=>{let a="shipped";i(k.id,a),l({...k,status:a})},className:"px-6 py-2 font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors shadow-lg shadow-blue-600/20",children:"En Livraison"}),"shipped"===k.status&&(0,b.jsx)("button",{onClick:()=>{let a="completed";i(k.id,a),l({...k,status:a})},className:"px-6 py-2 font-bold text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors shadow-lg shadow-green-600/20",children:"Marquer Terminée"})]})]})]})}),m&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6 animate-in slide-in-from-bottom-4 fade-in duration-300",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Motif du Retour"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Pourquoi cette commande est-elle retournée ?"}),(0,b.jsx)("div",{className:"space-y-2",children:["Qualité","Erreur Poids","Annulation Client","Autre"].map(a=>(0,b.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 border border-transparent hover:border-gray-200 transition-all",children:[(0,b.jsx)("input",{type:"radio",name:"returnReason",value:a,checked:o===a,onChange:a=>p(a.target.value),className:"w-4 h-4 text-dattes-primary focus:ring-dattes-primary"}),(0,b.jsx)("span",{className:"font-bold text-sm text-gray-700",children:a})]},a))}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{onClick:()=>n(!1),className:"flex-1 py-2 font-bold text-gray-500 hover:bg-gray-100 rounded-lg",children:"Annuler"}),(0,b.jsx)("button",{onClick:()=>{k&&(j(k.id,o),l({...k,status:"returned",returnReason:o}),n(!1))},className:"flex-1 py-2 font-bold text-white bg-orange-500 hover:bg-orange-600 rounded-lg shadow-lg shadow-orange-500/20",children:"Confirmer"})]})]})})]})}a.s(["default",()=>i],73579)}];

//# sourceMappingURL=_617135d6._.js.map